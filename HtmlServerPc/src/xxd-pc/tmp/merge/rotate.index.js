define(["base"],function(n){return{sliderBox:function(e){var i,t,l,a,d,o=n(e.object),c=e.sliderType,r=e.sliderSpeed,s=e.animateSpeed,f=e.title,u=e.info,p=e.arrow,m=e.dataType,g=e.data,v=e.minWidth,h=e.callback,I=0,k=0;o.append("<ul></ul>"),o.append("<ol></ol>"),o.css("min-width",parseInt(v)+"px"),"json"==m?(n.each(g,function(n,e){var i="banner"+n;"javascript:void(0);"==e.linkurl||""==e.linkurl?o.find("ul").append('<li><a class="ga-click dmp-click" eventType = "jump" dev_id="'+i+'" target_id=" '+e.imgId+'" textHref="'+e.linkurl+'" dmp_text="'+e.title+'" ga-commnd="send,ec:addPromo,ec:setAction" ga-ec-addPromo="{\'name\':\' '+e.title+'\'}" ga-ec-setAction-command="promo_click" ga-hitType="event" ga-category="增强电商" ga-action="站内广告点击" ga-label=" '+e.title+'" href="javascript:void(0);"><img src="'+e.imgurl+'" /></a><h2>'+e.title+"</h2><span>"+e.content+"</span></li>"):o.find("ul").append('<li><a target="_blank" class="ga-click dmp-click" eventType = "jump" dev_id="'+i+'" target_id=" '+e.imgId+'" textHref="'+e.linkurl+'" dmp_text="'+e.title+'" ga-commnd="send,ec:addPromo,ec:setAction" ga-ec-addPromo="{\'name\':\' '+e.title+'\'}" ga-ec-setAction-command="promo_click" ga-hitType="event" ga-category="增强电商" ga-action="站内广告点击" ga-label=" '+e.title+'" href="'+e.linkurl+'"><img src="'+e.imgurl+'" /></a><h2>'+e.title+"</h2><span>"+e.content+"</span></li>")}),null!=h&&h()):"html"==m&&(o.find("ul").append(g),null!=h&&h()),1==f?o.find("ul li").find("h2").fadeIn(0):o.find("ul li").find("h2").remove(),1==u?o.find("ul li").find("span").fadeIn(0):o.find("ul li").find("span").remove(),1==p?o.append('<div class="controlBox"><div class="pre"></div><div class="next"></div></div>'):o.remove(".controlBox"),n.each(o.find("ul li"),function(){o.find("ol").append("<li></li>")}),o.find("ol").find("li").eq(0).addClass("current"),l=function(){-1==--k&&(k=o.find("ul li").length-1)},a=function(){++k==o.find("ul li").length&&(k=0)},1==c?(o.addClass("sliderType1"),o.find("ul li").eq(0).fadeIn(0),t=function(){o.find("ul li").stop().fadeOut(parseInt(s)).eq(k).stop().fadeIn(parseInt(s)),o.find("ol li").removeClass("current").eq(k).addClass("current")}):2==c?(o.addClass("sliderType2"),o.find("ul").css("width",100*o.find("ul li").length+"%"),o.find("ul li").css("width",1/o.find("ul li").length*100+"%"),t=function(){o.find("ul").stop().animate({left:-100*parseInt(k)+"%"},parseInt(s)),o.find("ol li").removeClass("current").eq(k).addClass("current")}):3==c&&(o.addClass("sliderType3"),t=function(){o.find("ul").stop().animate({top:-o.height()*parseInt(k)},parseInt(s)),o.find("ol li").removeClass("current").eq(k).addClass("current")}),i=function(){clearInterval(d),d=setInterval(function(){I=1,a(),t(),setTimeout(function(){I=0},s)},r)},i(),o.mouseover(function(){clearInterval(d),o.find(".controlBox").fadeIn(0)}).hover(function(){clearInterval(d),o.find(".controlBox").fadeIn(0)}).mouseout(function(){i(),o.find(".controlBox").fadeOut(0)}),o.find("ol").find("li").click(function(){if(0!=I)return!1;I=1,k=n(this).index(),t(),setTimeout(function(){I=0},s)}),o.find(".controlBox .pre").click(function(){if(0!=I)return!1;I=1,l(),t(),setTimeout(function(){I=0},s)}),o.find(".controlBox .next").click(function(){if(0!=I)return!1;I=1,a(),t(),setTimeout(function(){I=0},s)})}}});