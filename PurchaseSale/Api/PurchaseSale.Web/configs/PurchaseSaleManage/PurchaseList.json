{"Name":"PurchaseList","Type":"View","DialogViews":[{"Id":"100000001","DialogId":"100000002","Name":"LookPurchaseView","Entity":{"Name":"ViewPurchase","PrimaryKey":"PurchaseId"},"Type":"View","DialogWidth":1200,"DialogTitle":"采购单","DialogStyle":{"maxHeight":600,"overflow":"auto"},"BodyStyle":{"padding":"0 16px","margin":0},"Properties":[{"Name":"PurchaseEdit2","Type":"RowsColsView","Entity":{"Name":"ViewPurchase","PrimaryKey":"PurchaseId"},"IsForm":true,"EventActionName":"GetEntityData","IsClear":true,"GetEntityDataActionType":2904,"Properties":[{"Name":"PurchaseCode","Label":"采购单号","Type":"TextBox","ControlType":"","PlaceHolder":"","X":1,"Y":1,"MaxLength":20,"IsFormItem":true,"ColSpan":12,"LabelCol":4,"IsClear":true,"WrapperCol":20,"IsNullable":true,"IsReadOnly":true,"IsEdit":true,"RowId":"2900000001","ColId":"2900000002","Id":"2900000003"},{"Name":"PurchaseTypeName","Label":"采购类型","Type":"TextBox","ControlType":"","PlaceHolder":"","X":1,"Y":2,"MaxLength":20,"IsFormItem":true,"ColSpan":12,"LabelCol":4,"IsClear":true,"WrapperCol":20,"IsNullable":true,"IsReadOnly":true,"IsEdit":true,"RowId":"2900000004","ColId":"2900000005","Id":"2900000006"},{"Name":"PurchaseAmount","Label":"商品金额","Type":"TextBox","ControlType":"","PlaceHolder":"","X":2,"Y":1,"MaxLength":20,"IsFormItem":true,"ColSpan":12,"LabelCol":4,"IsClear":true,"WrapperCol":20,"IsNullable":true,"IsReadOnly":true,"IsEdit":true,"RowId":"2900000007","ColId":"2900000008","Id":"2900000009"},{"Name":"LogisticsFee","Label":"物流费","Type":"TextBox","ControlType":"","PlaceHolder":"","X":2,"Y":2,"MaxLength":10,"IsFormItem":true,"ColSpan":12,"LabelCol":4,"IsClear":true,"WrapperCol":20,"IsNullable":true,"IsReadOnly":true,"IsEdit":true,"RowId":"2900000010","ColId":"2900000011","Id":"2900000012"},{"Name":"OtherFee","Label":"其他费用","Type":"TextBox","ControlType":"","PlaceHolder":"","X":3,"Y":1,"MaxLength":10,"IsFormItem":true,"ColSpan":12,"LabelCol":4,"IsClear":true,"WrapperCol":20,"IsNullable":true,"IsReadOnly":true,"IsEdit":true,"RowId":"2900000013","ColId":"2900000014","Id":"2900000015"},{"Name":"DiscountFee","Label":"折扣","Type":"TextBox","ControlType":"","PlaceHolder":"","X":3,"Y":2,"MaxLength":10,"IsFormItem":true,"ColSpan":12,"LabelCol":4,"IsClear":true,"WrapperCol":20,"IsNullable":true,"IsReadOnly":true,"IsEdit":true,"RowId":"2900000016","ColId":"2900000017","Id":"2900000018"},{"Name":"ShouldAmount2","Label":"应付金额","Type":"TextBox","ControlType":"","PlaceHolder":"","X":4,"Y":1,"MaxLength":20,"IsFormItem":true,"ColSpan":12,"LabelCol":4,"IsClear":true,"WrapperCol":20,"IsNullable":true,"IsReadOnly":true,"IsEdit":true,"RowId":"2900000019","ColId":"2900000020","Id":"2900000021"},{"Name":"RealAmount2","Label":"实付金额","Type":"TextBox","ControlType":"","PlaceHolder":"","X":4,"Y":2,"MaxLength":10,"IsFormItem":true,"ColSpan":12,"LabelCol":4,"IsClear":true,"WrapperCol":20,"IsNullable":true,"IsReadOnly":true,"IsEdit":true,"RowId":"2900000022","ColId":"2900000023","Id":"2900000024"},{"Name":"DueAmount","Label":"待付金额","Type":"TextBox","ControlType":"","PlaceHolder":"","X":5,"Y":1,"MaxLength":10,"IsFormItem":true,"ColSpan":12,"LabelCol":4,"IsClear":true,"WrapperCol":20,"IsNullable":true,"IsReadOnly":true,"IsEdit":true,"RowId":"2900000025","ColId":"2900000026","Id":"2900000027"},{"Name":"SupplierName","Label":"供应商","Type":"TextBox","ControlType":"","PlaceHolder":"","X":5,"Y":2,"MaxLength":50,"IsFormItem":true,"ColSpan":12,"LabelCol":4,"IsClear":true,"WrapperCol":20,"IsNullable":true,"IsReadOnly":true,"IsEdit":true,"RowId":"2900000028","ColId":"2900000029","Id":"2900000030"},{"Name":"PurchaseDate","Label":"采购日期","Type":"TextBox","ControlType":"","PlaceHolder":10,"X":8,"Y":1,"MaxLength":50,"IsFormItem":true,"ColSpan":12,"LabelCol":4,"IsClear":true,"WrapperCol":20,"IsNullable":true,"IsReadOnly":true,"IsEdit":true,"RowId":"2900000031","ColId":"2900000032","Id":"2900000033"},{"Name":"PurchaseUserName","Label":"采购员","Type":"TextBox","ControlType":"","PlaceHolder":20,"X":8,"Y":2,"MaxLength":50,"IsFormItem":true,"ColSpan":12,"LabelCol":4,"IsClear":true,"WrapperCol":20,"IsNullable":true,"IsReadOnly":true,"IsEdit":true,"RowId":"2900000034","ColId":"2900000035","Id":"2900000036"},{"Name":"Remark","Label":"备注","Type":"TextBox","ControlType":"TextArea","X":9,"Y":1,"IsFormItem":true,"IsNullable":true,"IsEdit":true,"IsReadOnly":true,"IsClear":true,"ColSpan":12,"LabelCol":4,"WrapperCol":20,"Rows":3,"RowId":"2900000037","ColId":"2900000038","Id":"2900000039"},{"Name":"Details","Entity":{"Name":"PurchaseDetail","PrimaryKey":"Id"},"Type":"DataGridView","ColSpan":24,"IsDiv":true,"X":12,"Y":1,"IsClear":true,"IsEdit":true,"IsComplexEntity":true,"IsPaging":false,"ClassName":"DivInfoView3","Style":{"marginBottom":16},"Properties":[{"Name":"ProductName","Label":"商品","X":1,"Y":1,"RowId":"2800000001","ColId":"2800000002","Id":"2800000003","IsNullable":true},{"Name":"ProductTypeName","Label":"类型","X":2,"Y":1,"RowId":"2800000004","ColId":"2800000005","Id":"2800000006","IsNullable":true},{"Name":"ProductBrandName","Label":"品牌","X":3,"Y":1,"RowId":"2800000007","ColId":"2800000008","Id":"2800000009","IsNullable":true},{"Name":"BidPrice","Label":"价格","X":4,"Y":1,"RowId":"2800000010","ColId":"2800000011","Id":"2800000012","IsNullable":true},{"Name":"Number","Label":"数量","X":5,"Y":1,"RowId":"2800000013","ColId":"2800000014","Id":"2800000015","IsNullable":true},{"Name":"Amount","Label":"金额","X":7,"Y":1,"RowId":"2800000016","ColId":"2800000017","Id":"2800000018","IsNullable":true}],"RowId":"2900000040","ColId":"2900000041","Id":"2900000042","IsNullable":true}],"X":1,"Y":1,"RowId":"3000000001","ColId":"3000000002","Id":"3000000003","IsNullable":true}]}],"EventActions":[{"Name":"SearchQuery","Type":"DataGridView/SearchQuery","SearchView":"SearchOperationView1","SearchButton":"Search","DataGridView":"DataGridView1"},{"Name":"ClearQuery","Type":"DataGridView/SearchQuery","SearchView":"SearchOperationView1","SearchButton":"ClearQuery","DataGridView":"DataGridView1","IsClearQuery":true},{"Name":"EditPurchase","Type":"DataGridView/SelectRowToPage","DataGridView":"DataGridView1","AlertMessage":"AlertMessage","PageUrl":"/PurchaseSaleManage/PurchaseInput?PurchaseId=#{PurchaseId}"},{"Name":"ToEditPage","Type":"Page/ToPage","PageUrl":"/PurchaseSaleManage/PurchaseInput"},{"Name":"UpdatePurchaseStatus","Type":"DataGrid/BatchUpdateRowDataList","DataGridView":"DataGridView1"},{"Name":"LookPurchase","Type":"Dialog/ShowDialogLookData","DialogView":"LookPurchaseView","LookView":"PurchaseEdit2"},{"Name":"GetEntityData","Type":"EntityEdit/GetEntityData","EditView":"PurchaseEdit2"},{"Name":"DeletePurchase","Type":"DataGrid/BatchUpdateRowDataList","DataGridView":"DataGridView1"}],"Properties":[{"Name":"SearchOperationView1","Entity":{"Name":"Purchase","PrimaryKey":"PurchaseId","ViewName":"ViewPurchase","IsGroupByInfo":true},"Type":"RowsColsView","ClassName":"DivSerachView","Properties":[{"Name":"StartDate","Label":"日期","Type":"DatePicker","X":1,"Y":1,"IsFormItem":true,"ColSpan":6,"IsNullable":true,"PlaceHolder":"大于或等于其值","MaxLength":20,"LabelCol":8,"WrapperCol":15,"DataType":"DateTime","IsCondition":true,"PropertyName":"PurchaseDate","OperateLogic":">=","RowId":"3500000001","ColId":"3500000002","Id":"3500000003"},{"Name":"EndDate","Label":"至","Type":"DatePicker","X":1,"Y":2,"IsFormItem":true,"ColSpan":6,"IsNullable":true,"PlaceHolder":"小于其值","MaxLength":20,"LabelCol":8,"WrapperCol":15,"DataType":"DateTime","IsCondition":true,"PropertyName":"PurchaseDate","OperateLogic":"<","RowId":"3500000004","ColId":"3500000005","Id":"3500000006"},{"Name":"PurchaseType","Label":"类型","Type":"Select","DataSource":[{"Value":1,"Text":"采购"},{"Value":2,"Text":"退货"}],"X":1,"Y":3,"IsFormItem":true,"ColSpan":6,"LabelCol":8,"WrapperCol":15,"OperateLogic":"=","IsNullable":true,"AllowClear":true,"IsCondition":true,"RowId":"3500000007","ColId":"3500000008","Id":"3500000009"},{"Name":"AmountType","Label":"付款状态","Type":"Select","DataSource":[{"Value":"未结款","Text":"未结款"},{"Value":"部分结款","Text":"部分结款"},{"Value":"已结清","Text":"已结清"}],"X":1,"Y":4,"IsFormItem":true,"ColSpan":6,"LabelCol":8,"WrapperCol":15,"OperateLogic":"=","IsNullable":true,"AllowClear":true,"IsCondition":true,"RowId":"3500000010","ColId":"3500000011","Id":"3500000012"},{"Name":"PurchaseStatus","Label":"状态","Type":"Select","DataSource":[{"Value":0,"Text":"待提交"},{"Value":1,"Text":"已提交"},{"Value":2,"Text":"已存档"},{"Value":3,"Text":"已作废"}],"X":2,"Y":1,"IsFormItem":true,"ColSpan":6,"LabelCol":8,"WrapperCol":15,"OperateLogic":"=","IsNullable":true,"AllowClear":true,"IsCondition":true,"RowId":"3500000013","ColId":"3500000014","Id":"3500000015"},{"Name":"PurchaseUser","Label":"采购员","Type":"Select","DataSource":null,"X":2,"Y":2,"IsFormItem":true,"ColSpan":6,"LabelCol":8,"WrapperCol":15,"OperateLogic":"=","ServiceDataSource":{"ValueName":"UserId","TextName":"UserName","StateName":"Users","ServiceName":"PurchaseService","ActionName":"GetUsers","IsRefresh":true,"Payload":{}},"IsNullable":true,"AllowClear":true,"IsCondition":true,"RowId":"3500000016","ColId":"3500000017","Id":"3500000018"},{"Name":"Keyword","Label":"关键字","Type":"TextBox","ControlType":"","PlaceHolder":"采购单号/供应商名称/备注","X":2,"Y":3,"MaxLength":50,"IsFormItem":true,"ColSpan":6,"LabelCol":8,"WrapperCol":15,"IsNullable":true,"IsCondition":true,"PropertyName":"PurchaseCode,SupplierName,Remark","OperateLogic":"like","PressEnterEventActionName":"SearchQuery","RowId":"3500000019","ColId":"3500000020","Id":"3500000021"},{"Name":"Search","Text":"搜索","Type":"Button","ButtonType":"primary","X":2,"Y":4,"IsDisabled":true,"IsFormItem":true,"Icon":"search","EventActionName":"SearchQuery","PressEnterEventActionName":"SearchQuery","RowId":"3500000022","ColId":"3500000023","Id":"3500000024","IsNullable":true},{"Name":"ClearQuery","Text":"清空","Type":"Button","ButtonType":"default","X":2,"Y":5,"IsDisabled":true,"IsFormItem":true,"EventActionName":"ClearQuery","RowId":"3500000025","ColId":"3500000026","Id":"3500000027","IsNullable":true},{"EventActionName":"ToEditPage","Name":"ToEditPage","Text":"新增","Type":"Button","ButtonType":"primary","X":3,"Y":1,"IsDisabled":true,"Style":{"marginLeft":16,"marginBottom":16},"RowId":"3500000028","ColId":"3500000029","Id":"3500000030","IsNullable":true}],"X":1,"Y":1,"RowId":"3500000031","ColId":"3500000032","Id":"3500000033","IsNullable":true},{"Name":"DataGridView1","Entity":{"Name":"Purchase","PrimaryKey":"PurchaseId","ViewName":"ViewPurchase","IsGroupByInfo":true},"Type":"DataGridView","EntitySearchQuery":2900,"EventActionName":"SearchQuery","IsDiv":true,"ClassName":"DivInfoView3","GroupByInfoHtml":"商品金额：<span style=\"color:{TotalPurchaseAmountColor};\">{TotalPurchaseAmount}</span>，应付金额：<span style=\"color:{TotalShouldAmountColor};\">{TotalShouldAmount}</span>，实付金额：<span style=\"color:{TotalRealAmountColor};\">{TotalRealAmount}</span>，待付金额：<span style=\"color:{TotalDueAmountColor};\">{TotalDueAmount}</span>","Properties":[{"Name":"PurchaseCode","Label":"采购单号","IsToPage":true,"PageUrl":"/PurchaseSaleManage/PurchaseDetailList?PurchaseCode=#{PurchaseCode}","X":1,"Y":1,"RowId":"2900000100","ColId":"2900000101","Id":"2900000102","IsNullable":true},{"Name":"PurchaseDate","Label":"采购日期","X":2,"Y":1,"RowId":"2900000103","ColId":"2900000104","Id":"2900000105","IsNullable":true},{"Name":"PurchaseAmount","Label":"商品金额","Scale":2,"IsCurrency":true,"FontColor":"#1890ff","X":3,"Y":1,"RowId":"2900000106","ColId":"2900000107","Id":"2900000108","IsNullable":true},{"Name":"ShouldAmount2","Label":"应付金额","Scale":2,"IsCurrency":true,"FontColor":"#1890ff","X":4,"Y":1,"RowId":"2900000109","ColId":"2900000110","Id":"2900000111","IsNullable":true},{"Name":"RealAmount2","Label":"实付金额","Scale":2,"IsCurrency":true,"FontColor":"#1890ff","X":5,"Y":1,"RowId":"2900000112","ColId":"2900000113","Id":"2900000114","IsNullable":true},{"Name":"DueAmount","Label":"待付金额","Scale":2,"IsCurrency":true,"FontColor":"#1890ff","X":6,"Y":1,"RowId":"2900000115","ColId":"2900000116","Id":"2900000117","IsNullable":true},{"Name":"PurchaseUserName","Label":"采购员","X":7,"Y":1,"RowId":"2900000118","ColId":"2900000119","Id":"2900000120","IsNullable":true},{"Name":"PurchaseStatusName","Label":"状态","X":8,"Y":1,"RowId":"2900000121","ColId":"2900000122","Id":"2900000123","IsNullable":true},{"Name":"CreateDate","Label":"创建时间","OrderByType":"desc","X":9,"Y":1,"RowId":"2900000124","ColId":"2900000125","Id":"2900000126","IsNullable":true},{"Name":"RowVersion","IsVisible":false,"X":10,"Y":1,"RowId":"2900000127","ColId":"2900000128","Id":"2900000129","IsNullable":true},{"Name":"CreateUser","IsVisible":false,"X":11,"Y":1,"RowId":"2900000130","ColId":"2900000131","Id":"2900000132","IsNullable":true},{"Name":"PurchaseStatus","IsVisible":false,"X":12,"Y":1,"RowId":"2900000133","ColId":"2900000134","Id":"2900000135","IsNullable":true},{"Name":"Operation","Label":"操作","IsData":false,"SelfPropertyName":"CreateUser","ActionList":[{"Name":"EditPurchase","ValueName":"PurchaseStatus","DataValue":0,"Label":"修改","EventActionName":"EditPurchase","IsSelfOperation":true,"Type":"AButton","X":1,"Y":1,"RowId":"2900000082","ColId":"2900000083","Id":"2900000084","IsNullable":true},{"Name":"DeletePurchase","ValueName":"PurchaseStatus","DataValue":0,"Label":"删除","Type":"Popconfirm","EventActionName":"DeletePurchase","IsSelfOperation":true,"DataActionType":2901,"SuccessTip":"删除成功！","Title":"请确认是否删除当前采购单？","X":2,"Y":1,"RowId":"2900000085","ColId":"2900000086","Id":"2900000087","IsNullable":true},{"Name":"LookPurchase","Label":"查看","EventActionName":"LookPurchase","Type":"AButton","X":3,"Y":1,"RowId":"2900000088","ColId":"2900000089","Id":"2900000090","IsNullable":true},{"Name":"ToBill","IsToPage":true,"Text":"收支","PropertyNames":["PurchaseCode","PurchaseId"],"PageUrl":"/PurchaseSaleManage/BillList?DataCode=#{PurchaseCode}&DataType=2&DataId=#{PurchaseId}","X":4,"Y":1,"RowId":"2900000091","ColId":"2900000092","Id":"2900000093","IsNullable":true},{"Name":"UpdatePurchaseStatus2","ValueName":"PurchaseStatus","DataValue":1,"Label":"存档","EventActionName":"UpdatePurchaseStatus","Type":"Popconfirm","IsSelfOperation":true,"DataActionType":2902,"SuccessTip":"操作成功！","Title":"请确认是否存档当前采购单？","X":5,"Y":1,"RowId":"2900000094","ColId":"2900000095","Id":"2900000096","IsNullable":true},{"Name":"UpdatePurchaseStatus3","ValueName":"PurchaseStatus","DataValue":1,"Label":"作废","IsSelfOperation":true,"EventActionName":"UpdatePurchaseStatus","Type":"Popconfirm","DataActionType":2903,"SuccessTip":"操作成功！","Title":"请确认是否作废当前采购单？","X":6,"Y":1,"RowId":"2900000097","ColId":"2900000098","Id":"2900000099","IsNullable":true}],"X":13,"Y":1,"RowId":"2900000136","ColId":"2900000137","Id":"2900000138","IsNullable":true}],"X":2,"Y":1,"RowId":"3500000034","ColId":"3500000035","Id":"3500000036","IsNullable":true}]}