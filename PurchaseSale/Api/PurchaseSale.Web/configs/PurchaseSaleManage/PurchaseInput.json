{"Name":"PurchaseEdit","Type":"View","EventActions":[{"Name":"BackToLast","Type":"Page/ToPage","PageUrl":"/PurchaseSaleManage/PurchaseList"},{"Name":"SaveEntityData","Type":"EntityEdit/SaveEntityData","EditView":"PurchaseEdit2"},{"Name":"SubmitEntityData","Type":"EntityEdit/SaveEntityData","EditView":"PurchaseEdit2","SuccessCallback":"SubmitEntityDataCallback"},{"Name":"AddDetail","Type":"EntityEdit/SaveEntityData","EditView":"DetailEditView","ExpandSetEntityData":"SetDetailEntityData","SuccessCallback":"SetDetailEntityDataCallback"},{"Name":"DeleteDetail","Type":"DataListView/Remove","DataListView":"Details"},{"Name":"GetEntityData","Type":"EntityEdit/GetEntityData","EditView":"PurchaseEdit2"}],"Properties":[{"Name":"DetailEditView","Type":"RowsColsView","Entity":{"Name":"PurchaseDetail","PrimaryKey":"Id"},"IsForm":true,"IsClear":true,"SaveEntityDataActionType":2803,"Properties":[{"Name":"ProductId","Label":"商品","Type":"Select","DataSource":null,"X":1,"Y":1,"IsFormItem":true,"ColSpan":10,"LabelCol":4,"WrapperCol":20,"IsNullable":false,"IsEdit":true,"ServiceDataSource":{"ValueName":"Id","TextName":"ProductName","StateName":"Products","ServiceName":"PurchaseService","ActionName":"GetProducts","IsRefresh":true,"Payload":{}},"PlaceHolder":"请输入商品编号或名称关键字","IsLoadValue":true,"IsSearch":true,"SelectDataToProperties":["BidPrice"],"RowId":"3500000049","ColId":"3500000050","Id":"3500000051"},{"Name":"BidPrice","Label":"价格","Type":"TextBox","ControlType":"","PlaceHolder":"请输入价格","X":2,"Y":1,"MaxLength":10,"IsFormItem":true,"ColSpan":10,"LabelCol":4,"WrapperCol":20,"IsNullable":false,"IsEdit":true,"DataType":"float","IsLoadValue":true,"RowId":"3500000052","ColId":"3500000053","Id":"3500000054","Scale":2},{"Name":"Number","Label":"数量","Type":"TextBox","ControlType":"","PlaceHolder":"请输入数量","X":3,"Y":1,"MaxLength":8,"IsFormItem":true,"ColSpan":10,"LabelCol":4,"WrapperCol":20,"IsNullable":false,"IsEdit":true,"DataType":"float","DefaultValue":1,"IsLoadValue":true,"RowId":"3500000055","ColId":"3500000056","Id":"3500000057","Scale":2},{"Name":"Amount","Label":"金额","Type":"TextBox","ControlType":"","PlaceHolder":"请输入金额","X":4,"Y":1,"MaxLength":20,"IsFormItem":true,"ColSpan":10,"LabelCol":4,"WrapperCol":20,"IsNullable":false,"IsEdit":true,"DataType":"float","RowId":"3500000058","ColId":"3500000059","Id":"3500000060","Scale":2},{"Name":"AddDetail","Text":"添加","Type":"Button","ButtonType":"primary","X":4,"Y":2,"IsDisabled":true,"EventActionName":"AddDetail","Icon":"plus","IsFormItem":true,"IsComplexEntity":true,"RowId":"3500000061","ColId":"3500000062","Id":"3500000063","IsNullable":true}],"X":1,"Y":1,"RowId":"3700000016","ColId":"3700000017","Id":"3700000018","IsNullable":true},{"Name":"PurchaseEdit2","Type":"RowsColsView","Entity":{"Name":"Purchase","PrimaryKey":"PurchaseId","ExpandMethods":{"GetEntityData":"GetPurchase","Update":"Update2","Insert":"Insert2"}},"IsForm":true,"EventActionName":"GetEntityData","IsClear":true,"GetEntityDataActionType":2800,"Properties":[{"Name":"Details","Entity":{"Name":"PurchaseDetail","PrimaryKey":"Id"},"Type":"DataGridView","ColSpan":24,"IsDiv":true,"X":4,"Y":1,"IsEdit":true,"IsComplexEntity":true,"IsPaging":false,"IsNullable":false,"NullTipMessage":"请先添加商品！","DataType":"Array","ClassName":"DivInfoView3","Style":{"marginBottom":16},"Properties":[{"Name":"ProductName","Label":"商品","X":1,"Y":1,"RowId":"3500000067","ColId":"3500000068","Id":"3500000069","IsNullable":true},{"Name":"ProductTypeName","Label":"类型","X":2,"Y":1,"RowId":"3500000070","ColId":"3500000071","Id":"3500000072","IsNullable":true},{"Name":"ProductBrandName","Label":"品牌","X":3,"Y":1,"RowId":"3500000073","ColId":"3500000074","Id":"3500000075","IsNullable":true},{"Name":"BidPrice","Label":"价格","X":4,"Y":1,"RowId":"3500000076","ColId":"3500000077","Id":"3500000078","IsNullable":true},{"Name":"Number","Label":"数量","X":5,"Y":1,"RowId":"3500000079","ColId":"3500000080","Id":"3500000081","IsNullable":true},{"Name":"Amount","Label":"金额","X":7,"Y":1,"RowId":"3500000082","ColId":"3500000083","Id":"3500000084","IsNullable":true},{"Name":"Operation","Label":"操作","IsData":false,"ActionList":[{"Name":"DeleteDetail","Label":"删除","EventActionName":"DeleteDetail","Type":"AButton","X":1,"Y":1,"RowId":"3500000064","ColId":"3500000065","Id":"3500000066","IsNullable":true}],"X":8,"Y":1,"RowId":"3500000085","ColId":"3500000086","Id":"3500000087","IsNullable":true}],"RowId":"3600000043","ColId":"3600000044","Id":"3600000045"},{"Name":"PurchaseType","Label":"采购类型","Type":"Radio","DataSource":[{"Value":1,"Text":"采购"},{"Value":2,"Text":"退货"}],"X":5,"Y":1,"IsButton":true,"DefaultValue":1,"ButtonWidth":"50%","IsFormItem":true,"ColSpan":10,"LabelCol":4,"WrapperCol":20,"IsLoadValue":true,"Style":{"width":"100%"},"IsEdit":true,"RowId":"3600000046","ColId":"3600000047","Id":"3600000048","IsNullable":true},{"Name":"SupplierId","Label":"供应商","Type":"Select","DataSource":null,"X":5,"Y":2,"IsFormItem":true,"ColSpan":10,"LabelCol":4,"WrapperCol":20,"IsNullable":true,"IsEdit":true,"ServiceDataSource":{"ValueName":"Id","TextName":"Name","StateName":"Suppliers","ServiceName":"PurchaseService","ActionName":"GetSuppliers","IsRefresh":true,"Payload":{}},"RowId":"3600000049","ColId":"3600000050","Id":"3600000051"},{"Name":"SumAmount","Label":"商品金额","Type":"TextBox","ControlType":"","PlaceHolder":"","X":6,"Y":1,"MaxLength":20,"IsFormItem":true,"ColSpan":10,"LabelCol":4,"WrapperCol":20,"IsNullable":true,"IsEdit":true,"DataType":"float","IsReadOnly":true,"RowId":"3600000052","ColId":"3600000053","Id":"3600000054","Scale":2},{"Name":"LogisticsFee","Label":"物流费","Type":"TextBox","ControlType":"","PlaceHolder":"","X":6,"Y":2,"MaxLength":10,"IsFormItem":true,"ColSpan":10,"LabelCol":4,"WrapperCol":20,"IsNullable":true,"IsEdit":true,"DataType":"float","RowId":"3600000055","ColId":"3600000056","Id":"3600000057","Scale":2},{"Name":"OtherFee","Label":"其他费用","Type":"TextBox","ControlType":"","PlaceHolder":"","X":7,"Y":1,"MaxLength":10,"IsFormItem":true,"ColSpan":10,"LabelCol":4,"WrapperCol":20,"IsNullable":true,"IsEdit":true,"DataType":"float","RowId":"3600000058","ColId":"3600000059","Id":"3600000060","Scale":2},{"Name":"DiscountFee","Label":"折扣","Type":"TextBox","ControlType":"","PlaceHolder":"","X":7,"Y":2,"MaxLength":10,"IsFormItem":true,"ColSpan":10,"LabelCol":4,"WrapperCol":20,"IsNullable":true,"IsEdit":true,"DataType":"float","RowId":"3600000061","ColId":"3600000062","Id":"3600000063","Scale":2},{"Name":"ShouldAmount","Label":"应付金额","Type":"TextBox","ControlType":"","PlaceHolder":"","X":8,"Y":1,"MaxLength":20,"IsFormItem":true,"ColSpan":10,"LabelCol":4,"WrapperCol":20,"IsNullable":true,"IsEdit":true,"DataType":"float","IsReadOnly":true,"RowId":"3600000064","ColId":"3600000065","Id":"3600000066","Scale":2},{"Name":"RealAmount","Label":"实付金额","Type":"TextBox","ControlType":"","PlaceHolder":"","X":8,"Y":2,"MaxLength":10,"IsFormItem":true,"ColSpan":10,"LabelCol":4,"WrapperCol":20,"IsNullable":true,"IsEdit":true,"DataType":"float","RowId":"3600000067","ColId":"3600000068","Id":"3600000069","Scale":2},{"Name":"PurchaseDate","Label":"日期","Type":"DatePicker","X":10,"Y":1,"DefaultValue":10,"IsFormItem":true,"ColSpan":10,"LabelCol":4,"WrapperCol":20,"IsNullable":"","PlaceHolder":"请选择日期","IsEdit":true,"IsCurrentDay":true,"RowId":"3600000070","ColId":"3600000071","Id":"3600000072"},{"Name":"PurchaseUser","Label":"采购员","Type":"Select","DataSource":null,"X":10,"Y":2,"IsFormItem":true,"ColSpan":10,"LabelCol":4,"WrapperCol":20,"IsNullable":false,"IsEdit":true,"ServiceDataSource":{"ValueName":"UserId","TextName":"UserName","StateName":"Users","ServiceName":"PurchaseService","ActionName":"GetUsers","IsRefresh":true,"Payload":{}},"PlaceHolder":"请选择采购员","IsCurrentUser":true,"RowId":"3600000073","ColId":"3600000074","Id":"3600000075"},{"Name":"Remark","Label":"备注","Type":"TextBox","ControlType":"TextArea","X":11,"Y":1,"IsFormItem":true,"IsNullable":true,"IsEdit":true,"ColSpan":10,"LabelCol":4,"WrapperCol":20,"Rows":3,"RowId":"3600000076","ColId":"3600000077","Id":"3600000078"},{"Name":"ButtonView","Type":"View","ClassName":"DivCenterButton","IsDiv":true,"IsFormItem":true,"ColSpan":24,"X":12,"Y":1,"Properties":[{"Name":"LeftSpace1","Type":"WhiteSpace","ClassName":"ant-col ant-col-8 ant-form-item-label","X":1,"Y":1,"RowId":"3700000004","ColId":"3700000005","Id":"3700000006","IsNullable":true},{"Name":"SumbitEntityData","Text":"提交","Type":"Button","ButtonType":"primary","X":2,"Y":1,"IsDisabled":true,"EventActionName":"SubmitEntityData","SaveEntityDataActionType":2802,"Icon":"save","RowId":"3700000007","ColId":"3700000008","Id":"3700000009","IsNullable":true},{"Name":"SaveEntityData","Text":"保存","Type":"Button","ButtonType":"","X":3,"Y":1,"IsDisabled":true,"EventActionName":"SaveEntityData","SaveEntityDataActionType":2801,"Icon":"save","Style":{"marginLeft":10},"RowId":"3700000010","ColId":"3700000011","Id":"3700000012","IsNullable":true},{"Name":"BackToLast","Text":"返回","Type":"Button","ButtonType":"","X":4,"Y":1,"IsDisabled":true,"EventActionName":"BackToLast","Style":{"marginLeft":10},"Icon":"left","RowId":"3700000013","ColId":"3700000014","Id":"3700000015","IsNullable":true}],"RowId":"3600000079","ColId":"3600000080","Id":"3600000081","IsNullable":true}],"X":2,"Y":1,"RowId":"3700000019","ColId":"3700000020","Id":"3700000021","IsNullable":true}]}