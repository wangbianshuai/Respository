{"Name":"PurchaseEdit","Type":"View","EventActions":[{"Name":"BackToLast","Type":"Page/ToPage","PageUrl":"/PurchaseSaleManage/PurchaseList"},{"Name":"SaveEntityData","Type":"EntityEdit/SaveEntityData","EditView":"PurchaseEdit2"},{"Name":"SubmitEntityData","Type":"EntityEdit/SaveEntityData","EditView":"PurchaseEdit2","SuccessCallback":"SubmitEntityDataCallback"},{"Name":"AddDetail","Type":"EntityEdit/SaveEntityData","EditView":"DetailEditView","ExpandSetEntityData":"SetDetailEntityData","SuccessCallback":"SetDetailEntityDataCallback"},{"Name":"DeleteDetail","Type":"DataListView/Remove","DataListView":"Details"},{"Name":"GetEntityData","Type":"EntityEdit/GetEntityData","EditView":"PurchaseEdit2"}],"Properties":[{"Name":"DetailEditView","Type":"RowsColsView","Entity":{"Name":"PurchaseDetail","PrimaryKey":"Id"},"IsForm":true,"IsClear":true,"SaveEntityDataActionType":2803,"Properties":[{"Name":"ProductId","Label":"商品","Type":"Select","DataSource":null,"X":1,"Y":1,"IsFormItem":true,"ColSpan":10,"LabelCol":4,"WrapperCol":20,"IsNullable":false,"IsEdit":true,"ServiceDataSource":{"ValueName":"Id","TextName":"ProductName","StateName":"Products","ServiceName":"PurchaseService","ActionName":"GetProducts","IsRefresh":true,"Payload":{}},"PlaceHolder":"请输入商品编号或名称关键字","IsLoadValue":true,"IsSearch":true,"SelectDataToProperties":["BidPrice"],"RowId":"2800000049","ColId":"2800000050","Id":"2800000051"},{"Name":"BidPrice","Label":"价格","Type":"TextBox","ControlType":"","PlaceHolder":"请输入价格","X":2,"Y":1,"MaxLength":10,"IsFormItem":true,"ColSpan":10,"LabelCol":4,"WrapperCol":20,"IsNullable":false,"IsEdit":true,"DataType":"float","IsLoadValue":true,"RowId":"2800000052","ColId":"2800000053","Id":"2800000054","Scale":2},{"Name":"Number","Label":"数量","Type":"TextBox","ControlType":"","PlaceHolder":"请输入数量","X":3,"Y":1,"MaxLength":8,"IsFormItem":true,"ColSpan":10,"LabelCol":4,"WrapperCol":20,"IsNullable":false,"IsEdit":true,"DataType":"float","DefaultValue":1,"IsLoadValue":true,"RowId":"2800000055","ColId":"2800000056","Id":"2800000057","Scale":2},{"Name":"Amount","Label":"金额","Type":"TextBox","ControlType":"","PlaceHolder":"请输入金额","X":4,"Y":1,"MaxLength":20,"IsFormItem":true,"ColSpan":10,"LabelCol":4,"WrapperCol":20,"IsNullable":false,"IsEdit":true,"DataType":"float","RowId":"2800000058","ColId":"2800000059","Id":"2800000060","Scale":2},{"Name":"AddDetail","Text":"添加","Type":"Button","ButtonType":"primary","X":4,"Y":2,"IsDisabled":true,"EventActionName":"AddDetail","Icon":"plus","IsFormItem":true,"IsComplexEntity":true,"RowId":"2800000061","ColId":"2800000062","Id":"2800000063","IsNullable":true}],"X":1,"Y":1,"RowId":"3000000016","ColId":"3000000017","Id":"3000000018","IsNullable":true},{"Name":"PurchaseEdit2","Type":"RowsColsView","Entity":{"Name":"Purchase","PrimaryKey":"PurchaseId","ExpandMethods":{"GetEntityData":"GetPurchase","Update":"Update2","Insert":"Insert2"}},"IsForm":true,"EventActionName":"GetEntityData","IsClear":true,"GetEntityDataActionType":2800,"Properties":[{"Name":"Details","Entity":{"Name":"PurchaseDetail","PrimaryKey":"Id"},"Type":"DataGridView","ColSpan":24,"IsDiv":true,"X":4,"Y":1,"IsEdit":true,"IsComplexEntity":true,"IsPaging":false,"IsNullable":false,"NullTipMessage":"请先添加商品！","DataType":"Array","ClassName":"DivInfoView3","Style":{"marginBottom":16},"Properties":[{"Name":"ProductName","Label":"商品","X":1,"Y":1,"RowId":"2800000067","ColId":"2800000068","Id":"2800000069","IsNullable":true},{"Name":"ProductTypeName","Label":"类型","X":2,"Y":1,"RowId":"2800000070","ColId":"2800000071","Id":"2800000072","IsNullable":true},{"Name":"ProductBrandName","Label":"品牌","X":3,"Y":1,"RowId":"2800000073","ColId":"2800000074","Id":"2800000075","IsNullable":true},{"Name":"BidPrice","Label":"价格","X":4,"Y":1,"RowId":"2800000076","ColId":"2800000077","Id":"2800000078","IsNullable":true},{"Name":"Number","Label":"数量","X":5,"Y":1,"RowId":"2800000079","ColId":"2800000080","Id":"2800000081","IsNullable":true},{"Name":"Amount","Label":"金额","X":7,"Y":1,"RowId":"2800000082","ColId":"2800000083","Id":"2800000084","IsNullable":true},{"Name":"Operation","Label":"操作","IsData":false,"ActionList":[{"Name":"DeleteDetail","Label":"删除","EventActionName":"DeleteDetail","Type":"AButton","X":1,"Y":1,"RowId":"2800000064","ColId":"2800000065","Id":"2800000066","IsNullable":true}],"X":8,"Y":1,"RowId":"2800000085","ColId":"2800000086","Id":"2800000087","IsNullable":true}],"RowId":"2900000043","ColId":"2900000044","Id":"2900000045"},{"Name":"PurchaseType","Label":"采购类型","Type":"Radio","DataSource":[{"Value":1,"Text":"采购"},{"Value":2,"Text":"退货"}],"X":5,"Y":1,"IsButton":true,"DefaultValue":1,"ButtonWidth":"50%","IsFormItem":true,"ColSpan":10,"LabelCol":4,"WrapperCol":20,"IsLoadValue":true,"Style":{"width":"100%"},"IsEdit":true,"RowId":"2900000046","ColId":"2900000047","Id":"2900000048","IsNullable":true},{"Name":"SupplierId","Label":"供应商","Type":"Select","DataSource":null,"X":5,"Y":2,"IsFormItem":true,"ColSpan":10,"LabelCol":4,"WrapperCol":20,"IsNullable":true,"IsEdit":true,"ServiceDataSource":{"ValueName":"Id","TextName":"Name","StateName":"Suppliers","ServiceName":"PurchaseService","ActionName":"GetSuppliers","IsRefresh":true,"Payload":{}},"RowId":"2900000049","ColId":"2900000050","Id":"2900000051"},{"Name":"SumAmount","Label":"商品金额","Type":"TextBox","ControlType":"","PlaceHolder":"","X":6,"Y":1,"MaxLength":20,"IsFormItem":true,"ColSpan":10,"LabelCol":4,"WrapperCol":20,"IsNullable":true,"IsEdit":true,"DataType":"float","IsReadOnly":true,"RowId":"2900000052","ColId":"2900000053","Id":"2900000054","Scale":2},{"Name":"LogisticsFee","Label":"物流费","Type":"TextBox","ControlType":"","PlaceHolder":"","X":6,"Y":2,"MaxLength":10,"IsFormItem":true,"ColSpan":10,"LabelCol":4,"WrapperCol":20,"IsNullable":true,"IsEdit":true,"DataType":"float","RowId":"2900000055","ColId":"2900000056","Id":"2900000057","Scale":2},{"Name":"OtherFee","Label":"其他费用","Type":"TextBox","ControlType":"","PlaceHolder":"","X":7,"Y":1,"MaxLength":10,"IsFormItem":true,"ColSpan":10,"LabelCol":4,"WrapperCol":20,"IsNullable":true,"IsEdit":true,"DataType":"float","RowId":"2900000058","ColId":"2900000059","Id":"2900000060","Scale":2},{"Name":"DiscountFee","Label":"折扣","Type":"TextBox","ControlType":"","PlaceHolder":"","X":7,"Y":2,"MaxLength":10,"IsFormItem":true,"ColSpan":10,"LabelCol":4,"WrapperCol":20,"IsNullable":true,"IsEdit":true,"DataType":"float","RowId":"2900000061","ColId":"2900000062","Id":"2900000063","Scale":2},{"Name":"ShouldAmount","Label":"应付金额","Type":"TextBox","ControlType":"","PlaceHolder":"","X":8,"Y":1,"MaxLength":20,"IsFormItem":true,"ColSpan":10,"LabelCol":4,"WrapperCol":20,"IsNullable":true,"IsEdit":true,"DataType":"float","IsReadOnly":true,"RowId":"2900000064","ColId":"2900000065","Id":"2900000066","Scale":2},{"Name":"RealAmount","Label":"实付金额","Type":"TextBox","ControlType":"","PlaceHolder":"","X":8,"Y":2,"MaxLength":10,"IsFormItem":true,"ColSpan":10,"LabelCol":4,"WrapperCol":20,"IsNullable":true,"IsEdit":true,"DataType":"float","RowId":"2900000067","ColId":"2900000068","Id":"2900000069","Scale":2},{"Name":"PurchaseDate","Label":"日期","Type":"DatePicker","X":10,"Y":1,"DefaultValue":10,"IsFormItem":true,"ColSpan":10,"LabelCol":4,"WrapperCol":20,"IsNullable":"","PlaceHolder":"请选择日期","IsEdit":true,"IsCurrentDay":true,"RowId":"2900000070","ColId":"2900000071","Id":"2900000072"},{"Name":"PurchaseUser","Label":"采购员","Type":"Select","DataSource":null,"X":10,"Y":2,"IsFormItem":true,"ColSpan":10,"LabelCol":4,"WrapperCol":20,"IsNullable":false,"IsEdit":true,"ServiceDataSource":{"ValueName":"UserId","TextName":"UserName","StateName":"Users","ServiceName":"PurchaseService","ActionName":"GetUsers","IsRefresh":true,"Payload":{}},"PlaceHolder":"请选择采购员","IsCurrentUser":true,"RowId":"2900000073","ColId":"2900000074","Id":"2900000075"},{"Name":"Remark","Label":"备注","Type":"TextBox","ControlType":"TextArea","X":11,"Y":1,"IsFormItem":true,"IsNullable":true,"IsEdit":true,"ColSpan":10,"LabelCol":4,"WrapperCol":20,"Rows":3,"RowId":"2900000076","ColId":"2900000077","Id":"2900000078"},{"Name":"ButtonView","Type":"View","ClassName":"DivCenterButton","IsDiv":true,"IsFormItem":true,"ColSpan":24,"X":12,"Y":1,"Properties":[{"Name":"LeftSpace1","Type":"WhiteSpace","ClassName":"ant-col ant-col-8 ant-form-item-label","X":1,"Y":1,"RowId":"3000000004","ColId":"3000000005","Id":"3000000006","IsNullable":true},{"Name":"SumbitEntityData","Text":"提交","Type":"Button","ButtonType":"primary","X":2,"Y":1,"IsDisabled":true,"EventActionName":"SubmitEntityData","SaveEntityDataActionType":2802,"Icon":"save","RowId":"3000000007","ColId":"3000000008","Id":"3000000009","IsNullable":true},{"Name":"SaveEntityData","Text":"保存","Type":"Button","ButtonType":"","X":3,"Y":1,"IsDisabled":true,"EventActionName":"SaveEntityData","SaveEntityDataActionType":2801,"Icon":"save","Style":{"marginLeft":10},"RowId":"3000000010","ColId":"3000000011","Id":"3000000012","IsNullable":true},{"Name":"BackToLast","Text":"返回","Type":"Button","ButtonType":"","X":4,"Y":1,"IsDisabled":true,"EventActionName":"BackToLast","Style":{"marginLeft":10},"Icon":"left","RowId":"3000000013","ColId":"3000000014","Id":"3000000015","IsNullable":true}],"RowId":"2900000079","ColId":"2900000080","Id":"2900000081","IsNullable":true}],"X":2,"Y":1,"RowId":"3000000019","ColId":"3000000020","Id":"3000000021","IsNullable":true}]}