{"Name":"SaleList","Type":"View","DialogViews":[{"Id":"100000003","DialogId":"100000004","Name":"LookSaleView","Entity":{"Name":"ViewSale","PrimaryKey":"SaleId"},"Type":"View","DialogWidth":1200,"DialogTitle":"销售单","DialogStyle":{"maxHeight":600,"overflow":"auto"},"BodyStyle":{"padding":"0 16px","margin":0},"Properties":[{"Name":"SaleEdit2","Type":"RowsColsView","Entity":{"Name":"ViewSale","PrimaryKey":"SaleId"},"IsForm":true,"EventActionName":"GetEntityData","IsClear":true,"GetEntityDataActionType":2604,"Properties":[{"Name":"SaleCode","Label":"销售单号","Type":"TextBox","ControlType":"","PlaceHolder":"","X":1,"Y":1,"MaxLength":20,"IsFormItem":true,"ColSpan":12,"LabelCol":4,"IsClear":true,"WrapperCol":20,"IsNullable":true,"IsReadOnly":true,"IsEdit":true,"RowId":"3200000001","ColId":"3200000002","Id":"3200000003"},{"Name":"SaleTypeName","Label":"销售类型","Type":"TextBox","ControlType":"","PlaceHolder":"","X":1,"Y":2,"MaxLength":20,"IsFormItem":true,"ColSpan":12,"LabelCol":4,"IsClear":true,"WrapperCol":20,"IsNullable":true,"IsReadOnly":true,"IsEdit":true,"RowId":"3200000004","ColId":"3200000005","Id":"3200000006"},{"Name":"SaleAmount","Label":"商品金额","Type":"TextBox","ControlType":"","PlaceHolder":"","X":2,"Y":1,"MaxLength":20,"IsFormItem":true,"ColSpan":12,"LabelCol":4,"IsClear":true,"WrapperCol":20,"IsNullable":true,"IsReadOnly":true,"IsEdit":true,"RowId":"3200000007","ColId":"3200000008","Id":"3200000009"},{"Name":"BidAmount","Label":"商品成本","Type":"TextBox","ControlType":"","PlaceHolder":"","X":2,"Y":2,"MaxLength":20,"IsFormItem":true,"ColSpan":12,"LabelCol":4,"IsClear":true,"WrapperCol":20,"IsNullable":true,"IsReadOnly":true,"IsEdit":true,"RowId":"3200000010","ColId":"3200000011","Id":"3200000012"},{"Name":"Profit","Label":"商品利润","Type":"TextBox","ControlType":"","PlaceHolder":"","X":3,"Y":1,"MaxLength":20,"IsFormItem":true,"ColSpan":12,"LabelCol":4,"IsClear":true,"WrapperCol":20,"IsNullable":true,"IsReadOnly":true,"IsEdit":true,"RowId":"3200000013","ColId":"3200000014","Id":"3200000015"},{"Name":"ProfitRate","Label":"利润率(%)","Type":"TextBox","ControlType":"","PlaceHolder":"","X":3,"Y":2,"MaxLength":20,"IsFormItem":true,"ColSpan":12,"LabelCol":4,"IsClear":true,"WrapperCol":20,"IsNullable":true,"IsReadOnly":true,"IsEdit":true,"RowId":"3200000016","ColId":"3200000017","Id":"3200000018"},{"Name":"LogisticsFee","Label":"物流费","Type":"TextBox","ControlType":"","PlaceHolder":"","X":4,"Y":1,"MaxLength":10,"IsFormItem":true,"ColSpan":12,"LabelCol":4,"IsClear":true,"WrapperCol":20,"IsNullable":true,"IsReadOnly":true,"IsEdit":true,"RowId":"3200000019","ColId":"3200000020","Id":"3200000021"},{"Name":"OtherFee","Label":"其他费用","Type":"TextBox","ControlType":"","PlaceHolder":"","X":4,"Y":2,"MaxLength":10,"IsFormItem":true,"ColSpan":12,"LabelCol":4,"IsClear":true,"WrapperCol":20,"IsNullable":true,"IsReadOnly":true,"IsEdit":true,"RowId":"3200000022","ColId":"3200000023","Id":"3200000024"},{"Name":"DiscountFee","Label":"折扣","Type":"TextBox","ControlType":"","PlaceHolder":"","X":5,"Y":1,"MaxLength":10,"IsFormItem":true,"ColSpan":12,"LabelCol":4,"IsClear":true,"WrapperCol":20,"IsNullable":true,"IsReadOnly":true,"IsEdit":true,"RowId":"3200000025","ColId":"3200000026","Id":"3200000027"},{"Name":"ShouldAmount2","Label":"应收金额","Type":"TextBox","ControlType":"","PlaceHolder":"","X":5,"Y":2,"MaxLength":20,"IsFormItem":true,"ColSpan":12,"LabelCol":4,"IsClear":true,"WrapperCol":20,"IsNullable":true,"IsReadOnly":true,"IsEdit":true,"RowId":"3200000028","ColId":"3200000029","Id":"3200000030"},{"Name":"RealAmount2","Label":"实收金额","Type":"TextBox","ControlType":"","PlaceHolder":"","X":6,"Y":1,"MaxLength":10,"IsFormItem":true,"ColSpan":12,"LabelCol":4,"IsClear":true,"WrapperCol":20,"IsNullable":true,"IsReadOnly":true,"IsEdit":true,"RowId":"3200000031","ColId":"3200000032","Id":"3200000033"},{"Name":"DueAmount","Label":"待收金额","Type":"TextBox","ControlType":"","PlaceHolder":"","X":6,"Y":2,"MaxLength":10,"IsFormItem":true,"ColSpan":12,"LabelCol":4,"IsClear":true,"WrapperCol":20,"IsNullable":true,"IsReadOnly":true,"IsEdit":true,"RowId":"3200000034","ColId":"3200000035","Id":"3200000036"},{"Name":"CustomerName","Label":"顾客姓名","Type":"TextBox","ControlType":"","PlaceHolder":"","X":7,"Y":1,"MaxLength":50,"IsFormItem":true,"ColSpan":12,"LabelCol":4,"IsClear":true,"WrapperCol":20,"IsNullable":true,"IsReadOnly":true,"IsEdit":true,"RowId":"3200000037","ColId":"3200000038","Id":"3200000039"},{"Name":"CustomerPhone","Label":"顾客手机","Type":"TextBox","ControlType":"","PlaceHolder":"","X":7,"Y":2,"MaxLength":11,"IsFormItem":true,"ColSpan":12,"LabelCol":4,"IsClear":true,"WrapperCol":20,"IsNullable":true,"IsReadOnly":true,"IsEdit":true,"RowId":"3200000040","ColId":"3200000041","Id":"3200000042"},{"Name":"SaleDate","Label":"销售日期","Type":"TextBox","ControlType":"","PlaceHolder":10,"X":8,"Y":1,"MaxLength":50,"IsFormItem":true,"ColSpan":12,"LabelCol":4,"IsClear":true,"WrapperCol":20,"IsNullable":true,"IsReadOnly":true,"IsEdit":true,"RowId":"3200000043","ColId":"3200000044","Id":"3200000045"},{"Name":"SaleUserName","Label":"销售员","Type":"TextBox","ControlType":"","PlaceHolder":20,"X":8,"Y":2,"MaxLength":50,"IsFormItem":true,"ColSpan":12,"LabelCol":4,"IsClear":true,"WrapperCol":20,"IsNullable":true,"IsReadOnly":true,"IsEdit":true,"RowId":"3200000046","ColId":"3200000047","Id":"3200000048"},{"Name":"Remark","Label":"备注","Type":"TextBox","ControlType":"TextArea","X":9,"Y":1,"IsFormItem":true,"IsNullable":true,"IsEdit":true,"IsReadOnly":true,"IsClear":true,"ColSpan":12,"LabelCol":4,"WrapperCol":20,"Rows":3,"RowId":"3200000049","ColId":"3200000050","Id":"3200000051"},{"Name":"Details","Entity":{"Name":"SaleDetail","PrimaryKey":"Id"},"Type":"DataGridView","ColSpan":24,"IsDiv":true,"X":12,"Y":1,"IsClear":true,"IsEdit":true,"IsComplexEntity":true,"IsPaging":false,"ClassName":"DivInfoView3","Style":{"marginBottom":16},"Properties":[{"Name":"ProductName","Label":"商品","X":1,"Y":1,"RowId":"3100000001","ColId":"3100000002","Id":"3100000003","IsNullable":true},{"Name":"ProductTypeName","Label":"类型","X":2,"Y":1,"RowId":"3100000004","ColId":"3100000005","Id":"3100000006","IsNullable":true},{"Name":"ProductBrandName","Label":"品牌","X":3,"Y":1,"RowId":"3100000007","ColId":"3100000008","Id":"3100000009","IsNullable":true},{"Name":"SillingPrice","Label":"价格","X":4,"Y":1,"RowId":"3100000010","ColId":"3100000011","Id":"3100000012","IsNullable":true},{"Name":"Number","Label":"数量","X":5,"Y":1,"RowId":"3100000013","ColId":"3100000014","Id":"3100000015","IsNullable":true},{"Name":"Amount","Label":"金额","X":7,"Y":1,"RowId":"3100000016","ColId":"3100000017","Id":"3100000018","IsNullable":true}],"RowId":"3200000052","ColId":"3200000053","Id":"3200000054","IsNullable":true}],"X":1,"Y":1,"RowId":"3300000001","ColId":"3300000002","Id":"3300000003","IsNullable":true}]}],"EventActions":[{"Name":"SearchQuery","Type":"DataGridView/SearchQuery","SearchView":"SearchOperationView1","SearchButton":"Search","DataGridView":"DataGridView1"},{"Name":"ClearQuery","Type":"DataGridView/SearchQuery","SearchView":"SearchOperationView1","SearchButton":"ClearQuery","DataGridView":"DataGridView1","IsClearQuery":true},{"Name":"ExcelExport","Type":"DataGridView/ExcelExport","DataGridView":"DataGridView1"},{"Name":"EditSale","Type":"DataGridView/SelectRowToPage","DataGridView":"DataGridView1","AlertMessage":"AlertMessage","PageUrl":"/PurchaseSaleManage/SaleInput?SaleId=#{SaleId}"},{"Name":"ToEditPage","Type":"Page/ToPage","PageUrl":"/PurchaseSaleManage/SaleInput"},{"Name":"UpdateSaleStatus","Type":"DataGrid/BatchUpdateRowDataList","DataGridView":"DataGridView1"},{"Name":"LookSale","Type":"Dialog/ShowDialogLookData","DialogView":"LookSaleView","LookView":"SaleEdit2"},{"Name":"GetEntityData","Type":"EntityEdit/GetEntityData","EditView":"SaleEdit2"},{"Name":"DeleteSale","Type":"DataGrid/BatchUpdateRowDataList","DataGridView":"DataGridView1"}],"Properties":[{"Name":"SearchOperationView1","Entity":{"Name":"Sale","PrimaryKey":"SaleId","ViewName":"ViewSale","IsGroupByInfo":true},"Type":"RowsColsView","ClassName":"DivSerachView","Properties":[{"Name":"StartDate","Label":"日期","Type":"DatePicker","X":1,"Y":1,"IsFormItem":true,"ColSpan":6,"IsNullable":true,"PlaceHolder":"大于或等于其值","MaxLength":20,"LabelCol":8,"WrapperCol":15,"DataType":"DateTime","IsCondition":true,"PropertyName":"SaleDate","OperateLogic":">=","RowId":"4100000001","ColId":"4100000002","Id":"4100000003"},{"Name":"EndDate","Label":"至","Type":"DatePicker","X":1,"Y":2,"IsFormItem":true,"ColSpan":6,"IsNullable":true,"PlaceHolder":"小于其值","MaxLength":20,"LabelCol":8,"WrapperCol":15,"DataType":"DateTime","IsCondition":true,"PropertyName":"SaleDate","OperateLogic":"<","RowId":"4100000004","ColId":"4100000005","Id":"4100000006"},{"Name":"SaleType","Label":"类型","Type":"Select","DataSource":[{"Value":1,"Text":"销售"},{"Value":2,"Text":"退货"}],"X":1,"Y":3,"IsFormItem":true,"ColSpan":6,"LabelCol":8,"WrapperCol":15,"OperateLogic":"=","IsNullable":true,"AllowClear":true,"IsCondition":true,"RowId":"4100000007","ColId":"4100000008","Id":"4100000009"},{"Name":"AmountType","Label":"收款状态","Type":"Select","DataSource":[{"Value":"未结款","Text":"未结款"},{"Value":"部分结款","Text":"部分结款"},{"Value":"已结清","Text":"已结清"}],"X":1,"Y":4,"IsFormItem":true,"ColSpan":6,"LabelCol":8,"WrapperCol":15,"OperateLogic":"=","IsNullable":true,"AllowClear":true,"IsCondition":true,"RowId":"4100000010","ColId":"4100000011","Id":"4100000012"},{"Name":"SaleStatus","Label":"状态","Type":"Select","DataSource":[{"Value":0,"Text":"待提交"},{"Value":1,"Text":"已提交"},{"Value":2,"Text":"已存档"},{"Value":3,"Text":"已作废"}],"X":2,"Y":1,"IsFormItem":true,"ColSpan":6,"LabelCol":8,"WrapperCol":15,"OperateLogic":"=","IsNullable":true,"AllowClear":true,"IsCondition":true,"RowId":"4100000013","ColId":"4100000014","Id":"4100000015"},{"Name":"SaleUser","Label":"销售员","Type":"Select","DataSource":null,"X":2,"Y":2,"IsFormItem":true,"ColSpan":6,"LabelCol":8,"WrapperCol":15,"OperateLogic":"=","ServiceDataSource":{"ValueName":"UserId","TextName":"UserName","StateName":"Users","ServiceName":"SaleService","ActionName":"GetUsers","IsRefresh":true,"Payload":{}},"IsNullable":true,"AllowClear":true,"IsCondition":true,"RowId":"4100000016","ColId":"4100000017","Id":"4100000018"},{"Name":"Keyword","Label":"关键字","Type":"TextBox","ControlType":"","PlaceHolder":"销售单号/顾客姓名/手机/备注","X":2,"Y":3,"MaxLength":50,"IsFormItem":true,"ColSpan":6,"LabelCol":8,"WrapperCol":15,"IsNullable":true,"IsCondition":true,"PropertyName":"SaleCode,CustomerName,CustomerPhone,Remark","OperateLogic":"like","PressEnterEventActionName":"SearchQuery","RowId":"4100000019","ColId":"4100000020","Id":"4100000021"},{"Name":"Search","Text":"搜索","Type":"Button","ButtonType":"primary","X":2,"Y":4,"IsDisabled":true,"IsFormItem":true,"Icon":"search","EventActionName":"SearchQuery","PressEnterEventActionName":"SearchQuery","RowId":"4100000022","ColId":"4100000023","Id":"4100000024","IsNullable":true},{"Name":"ClearQuery","Text":"清空","Type":"Button","ButtonType":"default","X":2,"Y":5,"IsDisabled":true,"IsFormItem":true,"EventActionName":"ClearQuery","RowId":"4100000025","ColId":"4100000026","Id":"4100000027","IsNullable":true},{"EventActionName":"ToEditPage","Name":"ToEditPage","Text":"新增","Type":"Button","ButtonType":"primary","X":3,"Y":1,"IsDisabled":true,"Style":{"marginLeft":16,"marginBottom":16},"RowId":"4100000028","ColId":"4100000029","Id":"4100000030","IsNullable":true},{"EventActionName":"ExcelExport","Name":"ExcelExport","Text":"Excel导出","Type":"Button","ButtonType":"default","X":3,"Y":2,"IsDisabled":true,"Icon":"download","ColStyle":{"paddingLeft":0},"RowId":"4100000031","ColId":"4100000032","Id":"4100000033","IsNullable":true}],"X":1,"Y":1,"RowId":"4100000034","ColId":"4100000035","Id":"4100000036","IsNullable":true},{"Name":"DataGridView1","Entity":{"Name":"Sale","PrimaryKey":"SaleId","ViewName":"ViewSale","IsGroupByInfo":true},"Type":"DataGridView","EntitySearchQuery":2600,"EntityExcelExport":2602,"EventActionName":"SearchQuery","IsDiv":true,"ClassName":"DivInfoView3","GroupByInfoHtml":"商品金额：<span style=\"color:{TotalSaleAmountColor};\">{TotalSaleAmount}</span>，商品成本：<span style=\"color:{TotalBidAmountColor};\">{TotalBidAmount}</span>，商品利润：<span style=\"color:{TotalProfitColor};\">{TotalProfit}</span>，应收金额：<span style=\"color:{TotalShouldAmountColor};\">{TotalShouldAmount}</span>，实收金额：<span style=\"color:{TotalRealAmountColor};\">{TotalRealAmount}</span>，待收金额：<span style=\"color:{TotalDueAmountColor};\">{TotalDueAmount}</span>","Properties":[{"Name":"SaleCode","Label":"销售单号","IsToPage":true,"PageUrl":"/PurchaseSaleManage/SaleDetailList?SaleCode=#{SaleCode}","X":1,"Y":1,"RowId":"3200000115","ColId":"3200000116","Id":"3200000117","IsNullable":true},{"Name":"SaleDate","Label":"销售日期","X":2,"Y":1,"RowId":"3200000118","ColId":"3200000119","Id":"3200000120","IsNullable":true},{"Name":"SaleAmount","Label":"商品金额","Scale":2,"IsCurrency":true,"FontColor":"#1890ff","X":3,"Y":1,"RowId":"3200000121","ColId":"3200000122","Id":"3200000123","IsNullable":true},{"Name":"BidAmount","Label":"商品成本","Scale":2,"IsCurrency":true,"FontColor":"#1890ff","X":4,"Y":1,"RowId":"3200000124","ColId":"3200000125","Id":"3200000126","IsNullable":true},{"Name":"Profit","Label":"商品利润","Scale":2,"IsCurrency":true,"FontColor":"#1890ff","X":5,"Y":1,"RowId":"3200000127","ColId":"3200000128","Id":"3200000129","IsNullable":true},{"Name":"ShouldAmount2","Label":"应收金额","Scale":2,"IsCurrency":true,"FontColor":"#1890ff","X":6,"Y":1,"RowId":"3200000130","ColId":"3200000131","Id":"3200000132","IsNullable":true},{"Name":"RealAmount2","Label":"实收金额","Scale":2,"IsCurrency":true,"FontColor":"#1890ff","X":7,"Y":1,"RowId":"3200000133","ColId":"3200000134","Id":"3200000135","IsNullable":true},{"Name":"DueAmount","Label":"待收金额","Scale":2,"IsCurrency":true,"FontColor":"#1890ff","X":8,"Y":1,"RowId":"3200000136","ColId":"3200000137","Id":"3200000138","IsNullable":true},{"Name":"SaleUserName","Label":"销售员","X":9,"Y":1,"RowId":"3200000139","ColId":"3200000140","Id":"3200000141","IsNullable":true},{"Name":"SaleStatusName","Label":"状态","X":10,"Y":1,"RowId":"3200000142","ColId":"3200000143","Id":"3200000144","IsNullable":true},{"Name":"CreateDate","Label":"创建时间","OrderByType":"desc","X":11,"Y":1,"RowId":"3200000145","ColId":"3200000146","Id":"3200000147","IsNullable":true},{"Name":"RowVersion","IsVisible":false,"X":12,"Y":1,"RowId":"3200000148","ColId":"3200000149","Id":"3200000150","IsNullable":true},{"Name":"CreateUser","IsVisible":false,"X":13,"Y":1,"RowId":"3200000151","ColId":"3200000152","Id":"3200000153","IsNullable":true},{"Name":"SaleStatus","IsVisible":false,"X":14,"Y":1,"RowId":"3200000154","ColId":"3200000155","Id":"3200000156","IsNullable":true},{"Name":"Operation","Label":"操作","IsData":false,"SelfPropertyName":"CreateUser","ActionList":[{"Name":"EditSale","ValueName":"SaleStatus","DataValue":0,"Label":"修改","EventActionName":"EditSale","IsSelfOperation":true,"Type":"AButton","X":1,"Y":1,"RowId":"3200000097","ColId":"3200000098","Id":"3200000099","IsNullable":true},{"Name":"DeleteSale","ValueName":"SaleStatus","DataValue":0,"Label":"删除","Type":"Popconfirm","EventActionName":"DeleteSale","IsSelfOperation":true,"DataActionType":2601,"SuccessTip":"删除成功！","Title":"请确认是否删除当前销售单？","X":2,"Y":1,"RowId":"3200000100","ColId":"3200000101","Id":"3200000102","IsNullable":true},{"Name":"LookSale","Label":"查看","EventActionName":"LookSale","Type":"AButton","X":3,"Y":1,"RowId":"3200000103","ColId":"3200000104","Id":"3200000105","IsNullable":true},{"Name":"ToBill","IsToPage":true,"Text":"收支","PropertyNames":["SaleCode","SaleId"],"PageUrl":"/PurchaseSaleManage/BillList?DataCode=#{SaleCode}&DataType=2&DataId=#{SaleId}","X":4,"Y":1,"RowId":"3200000106","ColId":"3200000107","Id":"3200000108","IsNullable":true},{"Name":"UpdateSaleStatus2","ValueName":"SaleStatus","DataValue":1,"Label":"存档","EventActionName":"UpdateSaleStatus","Type":"Popconfirm","IsSelfOperation":true,"DataActionType":2603,"SuccessTip":"操作成功！","Title":"请确认是否存档当前销售单？","X":5,"Y":1,"RowId":"3200000109","ColId":"3200000110","Id":"3200000111","IsNullable":true},{"Name":"UpdateSaleStatus3","ValueName":"SaleStatus","DataValue":1,"Label":"作废","IsSelfOperation":true,"EventActionName":"UpdateSaleStatus","Type":"Popconfirm","DataActionType":2604,"SuccessTip":"操作成功！","Title":"请确认是否作废当前销售单？","X":6,"Y":1,"RowId":"3200000112","ColId":"3200000113","Id":"3200000114","IsNullable":true}],"X":15,"Y":1,"RowId":"3200000157","ColId":"3200000158","Id":"3200000159","IsNullable":true}],"X":2,"Y":1,"RowId":"4100000037","ColId":"4100000038","Id":"4100000039","IsNullable":true}]}