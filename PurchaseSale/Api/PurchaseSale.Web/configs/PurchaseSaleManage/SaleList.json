{"Name":"SaleList","Type":"View","DialogViews":[{"Id":"100000003","DialogId":"100000004","Name":"LookSaleView","Entity":{"Name":"ViewSale","PrimaryKey":"SaleId"},"Type":"View","DialogWidth":1200,"DialogTitle":"销售单","DialogStyle":{"maxHeight":600,"overflow":"auto"},"BodyStyle":{"padding":"0 16px","margin":0},"Properties":[{"Name":"SaleEdit2","Type":"RowsColsView","Entity":{"Name":"ViewSale","PrimaryKey":"SaleId"},"IsForm":true,"EventActionName":"GetEntityData","IsClear":true,"GetEntityDataActionType":2605,"Properties":[{"Name":"SaleCode","Label":"销售单号","Type":"TextBox","ControlType":"","PlaceHolder":"","X":1,"Y":1,"MaxLength":20,"IsFormItem":true,"ColSpan":12,"LabelCol":4,"IsClear":true,"WrapperCol":20,"IsNullable":true,"IsReadOnly":true,"IsEdit":true,"RowId":"3900000001","ColId":"3900000002","Id":"3900000003"},{"Name":"SaleTypeName","Label":"销售类型","Type":"TextBox","ControlType":"","PlaceHolder":"","X":1,"Y":2,"MaxLength":20,"IsFormItem":true,"ColSpan":12,"LabelCol":4,"IsClear":true,"WrapperCol":20,"IsNullable":true,"IsReadOnly":true,"IsEdit":true,"RowId":"3900000004","ColId":"3900000005","Id":"3900000006"},{"Name":"SaleAmount","Label":"商品金额","Type":"TextBox","ControlType":"","PlaceHolder":"","X":2,"Y":1,"MaxLength":20,"IsFormItem":true,"ColSpan":12,"LabelCol":4,"IsClear":true,"WrapperCol":20,"IsNullable":true,"IsReadOnly":true,"IsEdit":true,"RowId":"3900000007","ColId":"3900000008","Id":"3900000009"},{"Name":"BidAmount","Label":"商品成本","Type":"TextBox","ControlType":"","PlaceHolder":"","X":2,"Y":2,"MaxLength":20,"IsFormItem":true,"ColSpan":12,"LabelCol":4,"IsClear":true,"WrapperCol":20,"IsNullable":true,"IsReadOnly":true,"IsEdit":true,"RowId":"3900000010","ColId":"3900000011","Id":"3900000012"},{"Name":"Profit","Label":"商品利润","Type":"TextBox","ControlType":"","PlaceHolder":"","X":3,"Y":1,"MaxLength":20,"IsFormItem":true,"ColSpan":12,"LabelCol":4,"IsClear":true,"WrapperCol":20,"IsNullable":true,"IsReadOnly":true,"IsEdit":true,"RowId":"3900000013","ColId":"3900000014","Id":"3900000015"},{"Name":"ProfitRate","Label":"利润率(%)","Type":"TextBox","ControlType":"","PlaceHolder":"","X":3,"Y":2,"MaxLength":20,"IsFormItem":true,"ColSpan":12,"LabelCol":4,"IsClear":true,"WrapperCol":20,"IsNullable":true,"IsReadOnly":true,"IsEdit":true,"RowId":"3900000016","ColId":"3900000017","Id":"3900000018"},{"Name":"LogisticsFee","Label":"物流费","Type":"TextBox","ControlType":"","PlaceHolder":"","X":4,"Y":1,"MaxLength":10,"IsFormItem":true,"ColSpan":12,"LabelCol":4,"IsClear":true,"WrapperCol":20,"IsNullable":true,"IsReadOnly":true,"IsEdit":true,"RowId":"3900000019","ColId":"3900000020","Id":"3900000021"},{"Name":"OtherFee","Label":"其他费用","Type":"TextBox","ControlType":"","PlaceHolder":"","X":4,"Y":2,"MaxLength":10,"IsFormItem":true,"ColSpan":12,"LabelCol":4,"IsClear":true,"WrapperCol":20,"IsNullable":true,"IsReadOnly":true,"IsEdit":true,"RowId":"3900000022","ColId":"3900000023","Id":"3900000024"},{"Name":"DiscountFee","Label":"折扣","Type":"TextBox","ControlType":"","PlaceHolder":"","X":5,"Y":1,"MaxLength":10,"IsFormItem":true,"ColSpan":12,"LabelCol":4,"IsClear":true,"WrapperCol":20,"IsNullable":true,"IsReadOnly":true,"IsEdit":true,"RowId":"3900000025","ColId":"3900000026","Id":"3900000027"},{"Name":"ShouldAmount2","Label":"应收金额","Type":"TextBox","ControlType":"","PlaceHolder":"","X":5,"Y":2,"MaxLength":20,"IsFormItem":true,"ColSpan":12,"LabelCol":4,"IsClear":true,"WrapperCol":20,"IsNullable":true,"IsReadOnly":true,"IsEdit":true,"RowId":"3900000028","ColId":"3900000029","Id":"3900000030"},{"Name":"RealAmount2","Label":"实收金额","Type":"TextBox","ControlType":"","PlaceHolder":"","X":6,"Y":1,"MaxLength":10,"IsFormItem":true,"ColSpan":12,"LabelCol":4,"IsClear":true,"WrapperCol":20,"IsNullable":true,"IsReadOnly":true,"IsEdit":true,"RowId":"3900000031","ColId":"3900000032","Id":"3900000033"},{"Name":"DueAmount","Label":"待收金额","Type":"TextBox","ControlType":"","PlaceHolder":"","X":6,"Y":2,"MaxLength":10,"IsFormItem":true,"ColSpan":12,"LabelCol":4,"IsClear":true,"WrapperCol":20,"IsNullable":true,"IsReadOnly":true,"IsEdit":true,"RowId":"3900000034","ColId":"3900000035","Id":"3900000036"},{"Name":"CustomerName","Label":"顾客姓名","Type":"TextBox","ControlType":"","PlaceHolder":"","X":7,"Y":1,"MaxLength":50,"IsFormItem":true,"ColSpan":12,"LabelCol":4,"IsClear":true,"WrapperCol":20,"IsNullable":true,"IsReadOnly":true,"IsEdit":true,"RowId":"3900000037","ColId":"3900000038","Id":"3900000039"},{"Name":"CustomerPhone","Label":"顾客手机","Type":"TextBox","ControlType":"","PlaceHolder":"","X":7,"Y":2,"MaxLength":11,"IsFormItem":true,"ColSpan":12,"LabelCol":4,"IsClear":true,"WrapperCol":20,"IsNullable":true,"IsReadOnly":true,"IsEdit":true,"RowId":"3900000040","ColId":"3900000041","Id":"3900000042"},{"Name":"SaleDate","Label":"销售日期","Type":"TextBox","ControlType":"","PlaceHolder":10,"X":8,"Y":1,"MaxLength":50,"IsFormItem":true,"ColSpan":12,"LabelCol":4,"IsClear":true,"WrapperCol":20,"IsNullable":true,"IsReadOnly":true,"IsEdit":true,"RowId":"3900000043","ColId":"3900000044","Id":"3900000045"},{"Name":"SaleUserName","Label":"销售员","Type":"TextBox","ControlType":"","PlaceHolder":20,"X":8,"Y":2,"MaxLength":50,"IsFormItem":true,"ColSpan":12,"LabelCol":4,"IsClear":true,"WrapperCol":20,"IsNullable":true,"IsReadOnly":true,"IsEdit":true,"RowId":"3900000046","ColId":"3900000047","Id":"3900000048"},{"Name":"Remark","Label":"备注","Type":"TextBox","ControlType":"TextArea","X":9,"Y":1,"IsFormItem":true,"IsNullable":true,"IsEdit":true,"IsReadOnly":true,"IsClear":true,"ColSpan":12,"LabelCol":4,"WrapperCol":20,"Rows":3,"RowId":"3900000049","ColId":"3900000050","Id":"3900000051"},{"Name":"Details","Entity":{"Name":"SaleDetail","PrimaryKey":"Id"},"Type":"DataGridView","ColSpan":24,"IsDiv":true,"X":12,"Y":1,"IsClear":true,"IsEdit":true,"IsComplexEntity":true,"IsPaging":false,"ClassName":"DivInfoView3","Style":{"marginBottom":16},"Properties":[{"Name":"ProductName","Label":"商品","X":1,"Y":1,"RowId":"3800000001","ColId":"3800000002","Id":"3800000003","IsNullable":true},{"Name":"ProductTypeName","Label":"类型","X":2,"Y":1,"RowId":"3800000004","ColId":"3800000005","Id":"3800000006","IsNullable":true},{"Name":"ProductBrandName","Label":"品牌","X":3,"Y":1,"RowId":"3800000007","ColId":"3800000008","Id":"3800000009","IsNullable":true},{"Name":"SillingPrice","Label":"价格","X":4,"Y":1,"RowId":"3800000010","ColId":"3800000011","Id":"3800000012","IsNullable":true},{"Name":"Number","Label":"数量","X":5,"Y":1,"RowId":"3800000013","ColId":"3800000014","Id":"3800000015","IsNullable":true},{"Name":"Amount","Label":"金额","X":7,"Y":1,"RowId":"3800000016","ColId":"3800000017","Id":"3800000018","IsNullable":true}],"RowId":"3900000052","ColId":"3900000053","Id":"3900000054","IsNullable":true}],"X":1,"Y":1,"RowId":"4000000001","ColId":"4000000002","Id":"4000000003","IsNullable":true}]}],"EventActions":[{"Name":"SearchQuery","Type":"DataGridView/SearchQuery","SearchView":"SearchOperationView1","SearchButton":"Search","DataGridView":"DataGridView1"},{"Name":"ClearQuery","Type":"DataGridView/SearchQuery","SearchView":"SearchOperationView1","SearchButton":"ClearQuery","DataGridView":"DataGridView1","IsClearQuery":true},{"Name":"ExcelExport","Type":"DataGridView/ExcelExport","DataGridView":"DataGridView1"},{"Name":"EditSale","Type":"DataGridView/SelectRowToPage","DataGridView":"DataGridView1","AlertMessage":"AlertMessage","PageUrl":"/PurchaseSaleManage/SaleInput?SaleId=#{SaleId}"},{"Name":"ToEditPage","Type":"Page/ToPage","PageUrl":"/PurchaseSaleManage/SaleInput"},{"Name":"UpdateSaleStatus","Type":"DataGrid/BatchUpdateRowDataList","DataGridView":"DataGridView1"},{"Name":"LookSale","Type":"Dialog/ShowDialogLookData","DialogView":"LookSaleView","LookView":"SaleEdit2"},{"Name":"GetEntityData","Type":"EntityEdit/GetEntityData","EditView":"SaleEdit2"},{"Name":"DeleteSale","Type":"DataGrid/BatchUpdateRowDataList","DataGridView":"DataGridView1"}],"Properties":[{"Name":"SearchOperationView1","Entity":{"Name":"Sale","PrimaryKey":"SaleId","ViewName":"ViewSale","IsGroupByInfo":true},"Type":"RowsColsView","ClassName":"DivSerachView","Properties":[{"Name":"StartDate","Label":"日期","Type":"DatePicker","X":1,"Y":1,"IsFormItem":true,"ColSpan":6,"IsNullable":true,"PlaceHolder":"大于或等于其值","MaxLength":20,"LabelCol":8,"WrapperCol":15,"DataType":"DateTime","IsCondition":true,"PropertyName":"SaleDate","OperateLogic":">=","RowId":"4800000001","ColId":"4800000002","Id":"4800000003"},{"Name":"EndDate","Label":"至","Type":"DatePicker","X":1,"Y":2,"IsFormItem":true,"ColSpan":6,"IsNullable":true,"PlaceHolder":"小于其值","MaxLength":20,"LabelCol":8,"WrapperCol":15,"DataType":"DateTime","IsCondition":true,"PropertyName":"SaleDate","OperateLogic":"<","RowId":"4800000004","ColId":"4800000005","Id":"4800000006"},{"Name":"SaleType","Label":"类型","Type":"Select","DataSource":[{"Value":1,"Text":"销售"},{"Value":2,"Text":"退货"}],"X":1,"Y":3,"IsFormItem":true,"ColSpan":6,"LabelCol":8,"WrapperCol":15,"OperateLogic":"=","IsNullable":true,"AllowClear":true,"IsCondition":true,"RowId":"4800000007","ColId":"4800000008","Id":"4800000009"},{"Name":"AmountType","Label":"收款状态","Type":"Select","DataSource":[{"Value":"未结款","Text":"未结款"},{"Value":"部分结款","Text":"部分结款"},{"Value":"已结清","Text":"已结清"}],"X":1,"Y":4,"IsFormItem":true,"ColSpan":6,"LabelCol":8,"WrapperCol":15,"OperateLogic":"=","IsNullable":true,"AllowClear":true,"IsCondition":true,"RowId":"4800000010","ColId":"4800000011","Id":"4800000012"},{"Name":"SaleStatus","Label":"状态","Type":"Select","DataSource":[{"Value":0,"Text":"待提交"},{"Value":1,"Text":"已提交"},{"Value":2,"Text":"已存档"},{"Value":3,"Text":"已作废"}],"X":2,"Y":1,"IsFormItem":true,"ColSpan":6,"LabelCol":8,"WrapperCol":15,"OperateLogic":"=","IsNullable":true,"AllowClear":true,"IsCondition":true,"RowId":"4800000013","ColId":"4800000014","Id":"4800000015"},{"Name":"SaleUser","Label":"销售员","Type":"Select","DataSource":null,"X":2,"Y":2,"IsFormItem":true,"ColSpan":6,"LabelCol":8,"WrapperCol":15,"OperateLogic":"=","ServiceDataSource":{"ValueName":"UserId","TextName":"UserName","StateName":"Users","ServiceName":"SaleService","ActionName":"GetUsers","IsRefresh":true,"Payload":{}},"IsNullable":true,"AllowClear":true,"IsCondition":true,"RowId":"4800000016","ColId":"4800000017","Id":"4800000018"},{"Name":"Keyword","Label":"关键字","Type":"TextBox","ControlType":"","PlaceHolder":"销售单号/顾客姓名/手机/备注","X":2,"Y":3,"MaxLength":50,"IsFormItem":true,"ColSpan":6,"LabelCol":8,"WrapperCol":15,"IsNullable":true,"IsCondition":true,"PropertyName":"SaleCode,CustomerName,CustomerPhone,Remark","OperateLogic":"like","PressEnterEventActionName":"SearchQuery","RowId":"4800000019","ColId":"4800000020","Id":"4800000021"},{"Name":"Search","Text":"搜索","Type":"Button","ButtonType":"primary","X":2,"Y":4,"IsDisabled":true,"IsFormItem":true,"Icon":"search","EventActionName":"SearchQuery","PressEnterEventActionName":"SearchQuery","RowId":"4800000022","ColId":"4800000023","Id":"4800000024","IsNullable":true},{"Name":"ClearQuery","Text":"清空","Type":"Button","ButtonType":"default","X":2,"Y":5,"IsDisabled":true,"IsFormItem":true,"EventActionName":"ClearQuery","RowId":"4800000025","ColId":"4800000026","Id":"4800000027","IsNullable":true},{"EventActionName":"ToEditPage","Name":"ToEditPage","Text":"新增","Type":"Button","ButtonType":"primary","X":3,"Y":1,"IsDisabled":true,"Style":{"marginLeft":16,"marginBottom":16},"RowId":"4800000028","ColId":"4800000029","Id":"4800000030","IsNullable":true},{"EventActionName":"ExcelExport","Name":"ExcelExport","Text":"Excel导出","Type":"Button","ButtonType":"default","X":3,"Y":2,"IsDisabled":true,"Icon":"download","ColStyle":{"paddingLeft":0},"RowId":"4800000031","ColId":"4800000032","Id":"4800000033","IsNullable":true}],"X":1,"Y":1,"RowId":"4800000034","ColId":"4800000035","Id":"4800000036","IsNullable":true},{"Name":"DataGridView1","Entity":{"Name":"Sale","PrimaryKey":"SaleId","ViewName":"ViewSale","IsGroupByInfo":true},"Type":"DataGridView","EntitySearchQuery":2600,"EntityExcelExport":2602,"EventActionName":"SearchQuery","IsDiv":true,"ClassName":"DivInfoView3","GroupByInfoHtml":"商品金额：<span style=\"color:{TotalSaleAmountColor};\">{TotalSaleAmount}</span>，商品成本：<span style=\"color:{TotalBidAmountColor};\">{TotalBidAmount}</span>，商品利润：<span style=\"color:{TotalProfitColor};\">{TotalProfit}</span>，应收金额：<span style=\"color:{TotalShouldAmountColor};\">{TotalShouldAmount}</span>，实收金额：<span style=\"color:{TotalRealAmountColor};\">{TotalRealAmount}</span>，待收金额：<span style=\"color:{TotalDueAmountColor};\">{TotalDueAmount}</span>","Properties":[{"Name":"SaleCode","Label":"销售单号","IsToPage":true,"PageUrl":"/PurchaseSaleManage/SaleDetailList?SaleCode=#{SaleCode}","X":1,"Y":1,"RowId":"3900000115","ColId":"3900000116","Id":"3900000117","IsNullable":true},{"Name":"SaleDate","Label":"销售日期","X":2,"Y":1,"RowId":"3900000118","ColId":"3900000119","Id":"3900000120","IsNullable":true},{"Name":"SaleAmount","Label":"商品金额","Scale":2,"IsCurrency":true,"FontColor":"#1890ff","X":3,"Y":1,"RowId":"3900000121","ColId":"3900000122","Id":"3900000123","IsNullable":true},{"Name":"BidAmount","Label":"商品成本","Scale":2,"IsCurrency":true,"FontColor":"#1890ff","X":4,"Y":1,"RowId":"3900000124","ColId":"3900000125","Id":"3900000126","IsNullable":true},{"Name":"Profit","Label":"商品利润","Scale":2,"IsCurrency":true,"FontColor":"#1890ff","X":5,"Y":1,"RowId":"3900000127","ColId":"3900000128","Id":"3900000129","IsNullable":true},{"Name":"ShouldAmount2","Label":"应收金额","Scale":2,"IsCurrency":true,"FontColor":"#1890ff","X":6,"Y":1,"RowId":"3900000130","ColId":"3900000131","Id":"3900000132","IsNullable":true},{"Name":"RealAmount2","Label":"实收金额","Scale":2,"IsCurrency":true,"FontColor":"#1890ff","X":7,"Y":1,"RowId":"3900000133","ColId":"3900000134","Id":"3900000135","IsNullable":true},{"Name":"DueAmount","Label":"待收金额","Scale":2,"IsCurrency":true,"FontColor":"#1890ff","X":8,"Y":1,"RowId":"3900000136","ColId":"3900000137","Id":"3900000138","IsNullable":true},{"Name":"SaleUserName","Label":"销售员","X":9,"Y":1,"RowId":"3900000139","ColId":"3900000140","Id":"3900000141","IsNullable":true},{"Name":"SaleStatusName","Label":"状态","X":10,"Y":1,"RowId":"3900000142","ColId":"3900000143","Id":"3900000144","IsNullable":true},{"Name":"CreateDate","Label":"创建时间","OrderByType":"desc","X":11,"Y":1,"RowId":"3900000145","ColId":"3900000146","Id":"3900000147","IsNullable":true},{"Name":"RowVersion","IsVisible":false,"X":12,"Y":1,"RowId":"3900000148","ColId":"3900000149","Id":"3900000150","IsNullable":true},{"Name":"CreateUser","IsVisible":false,"X":13,"Y":1,"RowId":"3900000151","ColId":"3900000152","Id":"3900000153","IsNullable":true},{"Name":"SaleStatus","IsVisible":false,"X":14,"Y":1,"RowId":"3900000154","ColId":"3900000155","Id":"3900000156","IsNullable":true},{"Name":"Operation","Label":"操作","IsData":false,"SelfPropertyName":"CreateUser","ActionList":[{"Name":"EditSale","ValueName":"SaleStatus","DataValue":0,"Label":"修改","EventActionName":"EditSale","IsSelfOperation":true,"Type":"AButton","X":1,"Y":1,"RowId":"3900000097","ColId":"3900000098","Id":"3900000099","IsNullable":true},{"Name":"DeleteSale","ValueName":"SaleStatus","DataValue":0,"Label":"删除","Type":"Popconfirm","EventActionName":"DeleteSale","IsSelfOperation":true,"DataActionType":2601,"SuccessTip":"删除成功！","Title":"请确认是否删除当前销售单？","X":2,"Y":1,"RowId":"3900000100","ColId":"3900000101","Id":"3900000102","IsNullable":true},{"Name":"LookSale","Label":"查看","EventActionName":"LookSale","Type":"AButton","X":3,"Y":1,"RowId":"3900000103","ColId":"3900000104","Id":"3900000105","IsNullable":true},{"Name":"ToBill","IsToPage":true,"Text":"收支","PropertyNames":["SaleCode","SaleId"],"PageUrl":"/PurchaseSaleManage/BillList?DataCode=#{SaleCode}&DataType=2&DataId=#{SaleId}","X":4,"Y":1,"RowId":"3900000106","ColId":"3900000107","Id":"3900000108","IsNullable":true},{"Name":"UpdateSaleStatus2","ValueName":"SaleStatus","DataValue":1,"Label":"存档","EventActionName":"UpdateSaleStatus","Type":"Popconfirm","IsSelfOperation":true,"DataActionType":2603,"SuccessTip":"操作成功！","Title":"请确认是否存档当前销售单？","X":5,"Y":1,"RowId":"3900000109","ColId":"3900000110","Id":"3900000111","IsNullable":true},{"Name":"UpdateSaleStatus3","ValueName":"SaleStatus","DataValue":1,"Label":"作废","IsSelfOperation":true,"EventActionName":"UpdateSaleStatus","Type":"Popconfirm","DataActionType":2604,"SuccessTip":"操作成功！","Title":"请确认是否作废当前销售单？","X":6,"Y":1,"RowId":"3900000112","ColId":"3900000113","Id":"3900000114","IsNullable":true}],"X":15,"Y":1,"RowId":"3900000157","ColId":"3900000158","Id":"3900000159","IsNullable":true}],"X":2,"Y":1,"RowId":"4800000037","ColId":"4800000038","Id":"4800000039","IsNullable":true}]}