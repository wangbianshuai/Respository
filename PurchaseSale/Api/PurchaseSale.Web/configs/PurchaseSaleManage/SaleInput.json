{"Name":"SaleEdit","Type":"View","EventActions":[{"Name":"BackToLast","Type":"Page/ToPage","PageUrl":"/PurchaseSaleManage/SaleList"},{"Name":"SaveEntityData","Type":"EntityEdit/SaveEntityData","EditView":"SaleEdit2"},{"Name":"SubmitEntityData","Type":"EntityEdit/SaveEntityData","EditView":"SaleEdit2","SuccessCallback":"SubmitEntityDataCallback"},{"Name":"AddDetail","Type":"EntityEdit/SaveEntityData","EditView":"DetailEditView","ExpandSetEntityData":"SetDetailEntityData","SuccessCallback":"SetDetailEntityDataCallback"},{"Name":"DeleteDetail","Type":"DataListView/Remove","DataListView":"Details"},{"Name":"GetEntityData","Type":"EntityEdit/GetEntityData","EditView":"SaleEdit2"}],"Properties":[{"Name":"DetailEditView","Type":"RowsColsView","Entity":{"Name":"SaleDetail","PrimaryKey":"Id"},"IsForm":true,"IsClear":true,"SaveEntityDataActionType":2503,"Properties":[{"Name":"ProductId","Label":"商品","Type":"Select","DataSource":null,"X":1,"Y":1,"IsFormItem":true,"ColSpan":10,"LabelCol":4,"WrapperCol":20,"IsNullable":false,"IsEdit":true,"ServiceDataSource":{"ValueName":"Id","TextName":"ProductName","StateName":"Products","ServiceName":"SaleService","ActionName":"GetProducts","IsRefresh":true,"Payload":{}},"PlaceHolder":"请输入商品编号或名称关键字","IsLoadValue":true,"IsSearch":true,"SelectDataToProperties":["SillingPrice"],"RowId":"3800000061","ColId":"3800000062","Id":"3800000063"},{"Name":"SillingPrice","Label":"价格","Type":"TextBox","ControlType":"","PlaceHolder":"请输入价格","X":2,"Y":1,"MaxLength":10,"IsFormItem":true,"ColSpan":10,"LabelCol":4,"WrapperCol":20,"IsNullable":false,"IsEdit":true,"DataType":"float","IsLoadValue":true,"RowId":"3800000064","ColId":"3800000065","Id":"3800000066","Scale":2},{"Name":"Number","Label":"数量","Type":"TextBox","ControlType":"","PlaceHolder":"请输入数量","X":3,"Y":1,"MaxLength":8,"IsFormItem":true,"ColSpan":10,"LabelCol":4,"WrapperCol":20,"IsNullable":false,"IsEdit":true,"DataType":"float","DefaultValue":1,"IsLoadValue":true,"RowId":"3800000067","ColId":"3800000068","Id":"3800000069","Scale":2},{"Name":"Amount","Label":"金额","Type":"TextBox","ControlType":"","PlaceHolder":"请输入金额","X":4,"Y":1,"MaxLength":20,"IsFormItem":true,"ColSpan":10,"LabelCol":4,"WrapperCol":20,"IsNullable":false,"IsEdit":true,"DataType":"float","RowId":"3800000070","ColId":"3800000071","Id":"3800000072","Scale":2},{"Name":"AddDetail","Text":"添加","Type":"Button","ButtonType":"primary","X":4,"Y":2,"IsDisabled":true,"EventActionName":"AddDetail","Icon":"plus","IsFormItem":true,"IsComplexEntity":true,"RowId":"3800000073","ColId":"3800000074","Id":"3800000075","IsNullable":true}],"X":1,"Y":1,"RowId":"4000000016","ColId":"4000000017","Id":"4000000018","IsNullable":true},{"Name":"SaleEdit2","Type":"RowsColsView","Entity":{"Name":"Sale","PrimaryKey":"SaleId","ExpandMethods":{"GetEntityData":"GetSale","Update":"Update2","Insert":"Insert2"}},"IsForm":true,"EventActionName":"GetEntityData","IsClear":true,"GetEntityDataActionType":2500,"Properties":[{"Name":"Details","Entity":{"Name":"SaleDetail","PrimaryKey":"Id"},"Type":"DataGridView","ColSpan":24,"IsDiv":true,"X":4,"Y":1,"IsEdit":true,"IsComplexEntity":true,"IsPaging":false,"IsNullable":false,"NullTipMessage":"请先添加商品！","DataType":"Array","ClassName":"DivInfoView3","Style":{"marginBottom":16},"Properties":[{"Name":"ProductName","Label":"商品","X":1,"Y":1,"RowId":"3800000079","ColId":"3800000080","Id":"3800000081","IsNullable":true},{"Name":"ProductTypeName","Label":"类型","X":2,"Y":1,"RowId":"3800000082","ColId":"3800000083","Id":"3800000084","IsNullable":true},{"Name":"ProductBrandName","Label":"品牌","X":3,"Y":1,"RowId":"3800000085","ColId":"3800000086","Id":"3800000087","IsNullable":true},{"Name":"SillingPrice","Label":"价格","X":4,"Y":1,"RowId":"3800000088","ColId":"3800000089","Id":"3800000090","IsNullable":true},{"Name":"Number","Label":"数量","X":5,"Y":1,"RowId":"3800000091","ColId":"3800000092","Id":"3800000093","IsNullable":true},{"Name":"Amount","Label":"金额","X":7,"Y":1,"RowId":"3800000094","ColId":"3800000095","Id":"3800000096","IsNullable":true},{"Name":"Operation","Label":"操作","IsData":false,"ActionList":[{"Name":"DeleteDetail","Label":"删除","EventActionName":"DeleteDetail","Type":"AButton","X":1,"Y":1,"RowId":"3800000076","ColId":"3800000077","Id":"3800000078","IsNullable":true}],"X":8,"Y":1,"RowId":"3800000097","ColId":"3800000098","Id":"3800000099","IsNullable":true}],"RowId":"3900000055","ColId":"3900000056","Id":"3900000057"},{"Name":"SaleType","Label":"销售类型","Type":"Radio","DataSource":[{"Value":1,"Text":"销售"},{"Value":2,"Text":"退货"}],"X":5,"Y":1,"IsButton":true,"DefaultValue":1,"ButtonWidth":"50%","IsFormItem":true,"ColSpan":10,"LabelCol":4,"WrapperCol":20,"IsLoadValue":true,"Style":{"width":"100%"},"IsEdit":true,"RowId":"3900000058","ColId":"3900000059","Id":"3900000060","IsNullable":true},{"Name":"SumAmount","Label":"商品金额","Type":"TextBox","ControlType":"","PlaceHolder":"","X":6,"Y":1,"MaxLength":20,"IsFormItem":true,"ColSpan":10,"LabelCol":4,"WrapperCol":20,"IsNullable":true,"IsEdit":true,"DataType":"float","IsReadOnly":true,"RowId":"3900000061","ColId":"3900000062","Id":"3900000063","Scale":2},{"Name":"LogisticsFee","Label":"物流费","Type":"TextBox","ControlType":"","PlaceHolder":"","X":6,"Y":2,"MaxLength":10,"IsFormItem":true,"ColSpan":10,"LabelCol":4,"WrapperCol":20,"IsNullable":true,"IsEdit":true,"DataType":"float","RowId":"3900000064","ColId":"3900000065","Id":"3900000066","Scale":2},{"Name":"OtherFee","Label":"其他费用","Type":"TextBox","ControlType":"","PlaceHolder":"","X":7,"Y":1,"MaxLength":10,"IsFormItem":true,"ColSpan":10,"LabelCol":4,"WrapperCol":20,"IsNullable":true,"IsEdit":true,"DataType":"float","RowId":"3900000067","ColId":"3900000068","Id":"3900000069","Scale":2},{"Name":"DiscountFee","Label":"折扣","Type":"TextBox","ControlType":"","PlaceHolder":"","X":7,"Y":2,"MaxLength":10,"IsFormItem":true,"ColSpan":10,"LabelCol":4,"WrapperCol":20,"IsNullable":true,"IsEdit":true,"DataType":"float","RowId":"3900000070","ColId":"3900000071","Id":"3900000072","Scale":2},{"Name":"ShouldAmount","Label":"应收金额","Type":"TextBox","ControlType":"","PlaceHolder":"","X":8,"Y":1,"MaxLength":20,"IsFormItem":true,"ColSpan":10,"LabelCol":4,"WrapperCol":20,"IsNullable":true,"IsEdit":true,"DataType":"float","IsReadOnly":true,"RowId":"3900000073","ColId":"3900000074","Id":"3900000075","Scale":2},{"Name":"RealAmount","Label":"实收金额","Type":"TextBox","ControlType":"","PlaceHolder":"","X":8,"Y":2,"MaxLength":10,"IsFormItem":true,"ColSpan":10,"LabelCol":4,"WrapperCol":20,"IsNullable":true,"IsEdit":true,"DataType":"float","RowId":"3900000076","ColId":"3900000077","Id":"3900000078","Scale":2},{"Name":"CustomerName","Label":"顾客姓名","Type":"TextBox","ControlType":"","PlaceHolder":"","X":9,"Y":1,"MaxLength":50,"IsFormItem":true,"ColSpan":10,"LabelCol":4,"WrapperCol":20,"IsNullable":true,"IsEdit":true,"RowId":"3900000079","ColId":"3900000080","Id":"3900000081"},{"Name":"CustomerPhone","Label":"顾客手机","Type":"TextBox","ControlType":"","PlaceHolder":"","X":9,"Y":2,"MaxLength":11,"IsFormItem":true,"ColSpan":10,"LabelCol":4,"WrapperCol":20,"IsNullable":true,"IsEdit":true,"RowId":"3900000082","ColId":"3900000083","Id":"3900000084"},{"Name":"SaleDate","Label":"日期","Type":"DatePicker","X":10,"Y":1,"DefaultValue":10,"IsFormItem":true,"ColSpan":10,"LabelCol":4,"WrapperCol":20,"IsNullable":"","PlaceHolder":"请选择日期","IsEdit":true,"IsCurrentDay":true,"RowId":"3900000085","ColId":"3900000086","Id":"3900000087"},{"Name":"SaleUser","Label":"销售员","Type":"Select","DataSource":null,"X":10,"Y":2,"IsFormItem":true,"ColSpan":10,"LabelCol":4,"WrapperCol":20,"IsNullable":false,"IsEdit":true,"ServiceDataSource":{"ValueName":"UserId","TextName":"UserName","StateName":"Users","ServiceName":"SaleService","ActionName":"GetUsers","IsRefresh":true,"Payload":{}},"PlaceHolder":"请选择销售员","IsCurrentUser":true,"RowId":"3900000088","ColId":"3900000089","Id":"3900000090"},{"Name":"Remark","Label":"备注","Type":"TextBox","ControlType":"TextArea","X":11,"Y":1,"IsFormItem":true,"IsNullable":true,"IsEdit":true,"ColSpan":10,"LabelCol":4,"WrapperCol":20,"Rows":3,"RowId":"3900000091","ColId":"3900000092","Id":"3900000093"},{"Name":"ButtonView","Type":"View","ClassName":"DivCenterButton","IsDiv":true,"IsFormItem":true,"ColSpan":24,"X":12,"Y":1,"Properties":[{"Name":"LeftSpace1","Type":"WhiteSpace","ClassName":"ant-col ant-col-8 ant-form-item-label","X":1,"Y":1,"RowId":"4000000004","ColId":"4000000005","Id":"4000000006","IsNullable":true},{"Name":"SumbitEntityData","Text":"提交","Type":"Button","ButtonType":"primary","X":2,"Y":1,"IsDisabled":true,"EventActionName":"SubmitEntityData","SaveEntityDataActionType":2502,"Icon":"save","RowId":"4000000007","ColId":"4000000008","Id":"4000000009","IsNullable":true},{"Name":"SaveEntityData","Text":"保存","Type":"Button","ButtonType":"","X":3,"Y":1,"IsDisabled":true,"EventActionName":"SaveEntityData","SaveEntityDataActionType":2501,"Icon":"save","Style":{"marginLeft":10},"RowId":"4000000010","ColId":"4000000011","Id":"4000000012","IsNullable":true},{"Name":"BackToLast","Text":"返回","Type":"Button","ButtonType":"","X":4,"Y":1,"IsDisabled":true,"EventActionName":"BackToLast","Style":{"marginLeft":10},"Icon":"left","RowId":"4000000013","ColId":"4000000014","Id":"4000000015","IsNullable":true}],"RowId":"3900000094","ColId":"3900000095","Id":"3900000096","IsNullable":true}],"X":2,"Y":1,"RowId":"4000000019","ColId":"4000000020","Id":"4000000021","IsNullable":true}]}