{"Name":"SaleEdit","Type":"View","EventActions":[{"Name":"BackToLast","Type":"Page/ToPage","PageUrl":"/PurchaseSaleManage/SaleList"},{"Name":"SaveEntityData","Type":"EntityEdit/SaveEntityData","EditView":"SaleEdit2"},{"Name":"SubmitEntityData","Type":"EntityEdit/SaveEntityData","EditView":"SaleEdit2","SuccessCallback":"SubmitEntityDataCallback"},{"Name":"AddDetail","Type":"EntityEdit/SaveEntityData","EditView":"DetailEditView","ExpandSetEntityData":"SetDetailEntityData","SuccessCallback":"SetDetailEntityDataCallback"},{"Name":"DeleteDetail","Type":"DataListView/Remove","DataListView":"Details"},{"Name":"GetEntityData","Type":"EntityEdit/GetEntityData","EditView":"SaleEdit2"}],"Properties":[{"Name":"DetailEditView","Type":"RowsColsView","Entity":{"Name":"SaleDetail","PrimaryKey":"Id"},"IsForm":true,"IsClear":true,"SaveEntityDataActionType":2503,"Properties":[{"Name":"ProductId","Label":"商品","Type":"Select","DataSource":null,"X":1,"Y":1,"IsFormItem":true,"ColSpan":10,"LabelCol":4,"WrapperCol":20,"IsNullable":false,"IsEdit":true,"ServiceDataSource":{"ValueName":"Id","TextName":"ProductName","StateName":"Products","ServiceName":"SaleService","ActionName":"GetProducts","IsRefresh":true,"Payload":{}},"PlaceHolder":"请输入商品编号或名称关键字","IsLoadValue":true,"IsSearch":true,"SelectDataToProperties":["SillingPrice"],"RowId":"3100000061","ColId":"3100000062","Id":"3100000063"},{"Name":"SillingPrice","Label":"价格","Type":"TextBox","ControlType":"","PlaceHolder":"请输入价格","X":2,"Y":1,"MaxLength":10,"IsFormItem":true,"ColSpan":10,"LabelCol":4,"WrapperCol":20,"IsNullable":false,"IsEdit":true,"DataType":"float","IsLoadValue":true,"RowId":"3100000064","ColId":"3100000065","Id":"3100000066","Scale":2},{"Name":"Number","Label":"数量","Type":"TextBox","ControlType":"","PlaceHolder":"请输入数量","X":3,"Y":1,"MaxLength":8,"IsFormItem":true,"ColSpan":10,"LabelCol":4,"WrapperCol":20,"IsNullable":false,"IsEdit":true,"DataType":"float","DefaultValue":1,"IsLoadValue":true,"RowId":"3100000067","ColId":"3100000068","Id":"3100000069","Scale":2},{"Name":"Amount","Label":"金额","Type":"TextBox","ControlType":"","PlaceHolder":"请输入金额","X":4,"Y":1,"MaxLength":20,"IsFormItem":true,"ColSpan":10,"LabelCol":4,"WrapperCol":20,"IsNullable":false,"IsEdit":true,"DataType":"float","RowId":"3100000070","ColId":"3100000071","Id":"3100000072","Scale":2},{"Name":"AddDetail","Text":"添加","Type":"Button","ButtonType":"primary","X":4,"Y":2,"IsDisabled":true,"EventActionName":"AddDetail","Icon":"plus","IsFormItem":true,"IsComplexEntity":true,"RowId":"3100000073","ColId":"3100000074","Id":"3100000075","IsNullable":true}],"X":1,"Y":1,"RowId":"3300000016","ColId":"3300000017","Id":"3300000018","IsNullable":true},{"Name":"SaleEdit2","Type":"RowsColsView","Entity":{"Name":"Sale","PrimaryKey":"SaleId","ExpandMethods":{"GetEntityData":"GetSale","Update":"Update2","Insert":"Insert2"}},"IsForm":true,"EventActionName":"GetEntityData","IsClear":true,"GetEntityDataActionType":2500,"Properties":[{"Name":"Details","Entity":{"Name":"SaleDetail","PrimaryKey":"Id"},"Type":"DataGridView","ColSpan":24,"IsDiv":true,"X":4,"Y":1,"IsEdit":true,"IsComplexEntity":true,"IsPaging":false,"IsNullable":false,"NullTipMessage":"请先添加商品！","DataType":"Array","ClassName":"DivInfoView3","Style":{"marginBottom":16},"Properties":[{"Name":"ProductName","Label":"商品","X":1,"Y":1,"RowId":"3100000079","ColId":"3100000080","Id":"3100000081","IsNullable":true},{"Name":"ProductTypeName","Label":"类型","X":2,"Y":1,"RowId":"3100000082","ColId":"3100000083","Id":"3100000084","IsNullable":true},{"Name":"ProductBrandName","Label":"品牌","X":3,"Y":1,"RowId":"3100000085","ColId":"3100000086","Id":"3100000087","IsNullable":true},{"Name":"SillingPrice","Label":"价格","X":4,"Y":1,"RowId":"3100000088","ColId":"3100000089","Id":"3100000090","IsNullable":true},{"Name":"Number","Label":"数量","X":5,"Y":1,"RowId":"3100000091","ColId":"3100000092","Id":"3100000093","IsNullable":true},{"Name":"Amount","Label":"金额","X":7,"Y":1,"RowId":"3100000094","ColId":"3100000095","Id":"3100000096","IsNullable":true},{"Name":"Operation","Label":"操作","IsData":false,"ActionList":[{"Name":"DeleteDetail","Label":"删除","EventActionName":"DeleteDetail","Type":"AButton","X":1,"Y":1,"RowId":"3100000076","ColId":"3100000077","Id":"3100000078","IsNullable":true}],"X":8,"Y":1,"RowId":"3100000097","ColId":"3100000098","Id":"3100000099","IsNullable":true}],"RowId":"3200000055","ColId":"3200000056","Id":"3200000057"},{"Name":"SaleType","Label":"销售类型","Type":"Radio","DataSource":[{"Value":1,"Text":"销售"},{"Value":2,"Text":"退货"}],"X":5,"Y":1,"IsButton":true,"DefaultValue":1,"ButtonWidth":"50%","IsFormItem":true,"ColSpan":10,"LabelCol":4,"WrapperCol":20,"IsLoadValue":true,"Style":{"width":"100%"},"IsEdit":true,"RowId":"3200000058","ColId":"3200000059","Id":"3200000060","IsNullable":true},{"Name":"SumAmount","Label":"商品金额","Type":"TextBox","ControlType":"","PlaceHolder":"","X":6,"Y":1,"MaxLength":20,"IsFormItem":true,"ColSpan":10,"LabelCol":4,"WrapperCol":20,"IsNullable":true,"IsEdit":true,"DataType":"float","IsReadOnly":true,"RowId":"3200000061","ColId":"3200000062","Id":"3200000063","Scale":2},{"Name":"LogisticsFee","Label":"物流费","Type":"TextBox","ControlType":"","PlaceHolder":"","X":6,"Y":2,"MaxLength":10,"IsFormItem":true,"ColSpan":10,"LabelCol":4,"WrapperCol":20,"IsNullable":true,"IsEdit":true,"DataType":"float","RowId":"3200000064","ColId":"3200000065","Id":"3200000066","Scale":2},{"Name":"OtherFee","Label":"其他费用","Type":"TextBox","ControlType":"","PlaceHolder":"","X":7,"Y":1,"MaxLength":10,"IsFormItem":true,"ColSpan":10,"LabelCol":4,"WrapperCol":20,"IsNullable":true,"IsEdit":true,"DataType":"float","RowId":"3200000067","ColId":"3200000068","Id":"3200000069","Scale":2},{"Name":"DiscountFee","Label":"折扣","Type":"TextBox","ControlType":"","PlaceHolder":"","X":7,"Y":2,"MaxLength":10,"IsFormItem":true,"ColSpan":10,"LabelCol":4,"WrapperCol":20,"IsNullable":true,"IsEdit":true,"DataType":"float","RowId":"3200000070","ColId":"3200000071","Id":"3200000072","Scale":2},{"Name":"ShouldAmount","Label":"应收金额","Type":"TextBox","ControlType":"","PlaceHolder":"","X":8,"Y":1,"MaxLength":20,"IsFormItem":true,"ColSpan":10,"LabelCol":4,"WrapperCol":20,"IsNullable":true,"IsEdit":true,"DataType":"float","IsReadOnly":true,"RowId":"3200000073","ColId":"3200000074","Id":"3200000075","Scale":2},{"Name":"RealAmount","Label":"实收金额","Type":"TextBox","ControlType":"","PlaceHolder":"","X":8,"Y":2,"MaxLength":10,"IsFormItem":true,"ColSpan":10,"LabelCol":4,"WrapperCol":20,"IsNullable":true,"IsEdit":true,"DataType":"float","RowId":"3200000076","ColId":"3200000077","Id":"3200000078","Scale":2},{"Name":"CustomerName","Label":"顾客姓名","Type":"TextBox","ControlType":"","PlaceHolder":"","X":9,"Y":1,"MaxLength":50,"IsFormItem":true,"ColSpan":10,"LabelCol":4,"WrapperCol":20,"IsNullable":true,"IsEdit":true,"RowId":"3200000079","ColId":"3200000080","Id":"3200000081"},{"Name":"CustomerPhone","Label":"顾客手机","Type":"TextBox","ControlType":"","PlaceHolder":"","X":9,"Y":2,"MaxLength":11,"IsFormItem":true,"ColSpan":10,"LabelCol":4,"WrapperCol":20,"IsNullable":true,"IsEdit":true,"RowId":"3200000082","ColId":"3200000083","Id":"3200000084"},{"Name":"SaleDate","Label":"日期","Type":"DatePicker","X":10,"Y":1,"DefaultValue":10,"IsFormItem":true,"ColSpan":10,"LabelCol":4,"WrapperCol":20,"IsNullable":"","PlaceHolder":"请选择日期","IsEdit":true,"IsCurrentDay":true,"RowId":"3200000085","ColId":"3200000086","Id":"3200000087"},{"Name":"SaleUser","Label":"销售员","Type":"Select","DataSource":null,"X":10,"Y":2,"IsFormItem":true,"ColSpan":10,"LabelCol":4,"WrapperCol":20,"IsNullable":false,"IsEdit":true,"ServiceDataSource":{"ValueName":"UserId","TextName":"UserName","StateName":"Users","ServiceName":"SaleService","ActionName":"GetUsers","IsRefresh":true,"Payload":{}},"PlaceHolder":"请选择销售员","IsCurrentUser":true,"RowId":"3200000088","ColId":"3200000089","Id":"3200000090"},{"Name":"Remark","Label":"备注","Type":"TextBox","ControlType":"TextArea","X":11,"Y":1,"IsFormItem":true,"IsNullable":true,"IsEdit":true,"ColSpan":10,"LabelCol":4,"WrapperCol":20,"Rows":3,"RowId":"3200000091","ColId":"3200000092","Id":"3200000093"},{"Name":"ButtonView","Type":"View","ClassName":"DivCenterButton","IsDiv":true,"IsFormItem":true,"ColSpan":24,"X":12,"Y":1,"Properties":[{"Name":"LeftSpace1","Type":"WhiteSpace","ClassName":"ant-col ant-col-8 ant-form-item-label","X":1,"Y":1,"RowId":"3300000004","ColId":"3300000005","Id":"3300000006","IsNullable":true},{"Name":"SumbitEntityData","Text":"提交","Type":"Button","ButtonType":"primary","X":2,"Y":1,"IsDisabled":true,"EventActionName":"SubmitEntityData","SaveEntityDataActionType":2502,"Icon":"save","RowId":"3300000007","ColId":"3300000008","Id":"3300000009","IsNullable":true},{"Name":"SaveEntityData","Text":"保存","Type":"Button","ButtonType":"","X":3,"Y":1,"IsDisabled":true,"EventActionName":"SaveEntityData","SaveEntityDataActionType":2501,"Icon":"save","Style":{"marginLeft":10},"RowId":"3300000010","ColId":"3300000011","Id":"3300000012","IsNullable":true},{"Name":"BackToLast","Text":"返回","Type":"Button","ButtonType":"","X":4,"Y":1,"IsDisabled":true,"EventActionName":"BackToLast","Style":{"marginLeft":10},"Icon":"left","RowId":"3300000013","ColId":"3300000014","Id":"3300000015","IsNullable":true}],"RowId":"3200000094","ColId":"3200000095","Id":"3200000096","IsNullable":true}],"X":2,"Y":1,"RowId":"3300000019","ColId":"3300000020","Id":"3300000021","IsNullable":true}]}